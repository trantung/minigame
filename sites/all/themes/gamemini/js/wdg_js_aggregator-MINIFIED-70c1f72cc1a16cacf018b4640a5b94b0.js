(function(b){function h(a){a._done||(a(),a._done=1)}function d(a){var c;if("object"==typeof a)for(var b in a)a[b]&&(c={name:b,url:a[b]});else c=a.split("/"),c=c[c.length-1],b=c.indexOf("?"),c={name:-1!=b?c.substring(0,b):c,url:a};return(a=w[c.name])&&a.url===c.url?a:w[c.name]=c}function c(a,c){if(a){"object"==typeof a&&(a=[].slice.call(a));for(var b=0;b<a.length;b++)c.call(a,a[b],b)}}function l(a){return"[object Function]"==Object.prototype.toString.call(a)}function k(a){a=a||w;var c,b;for(b in a){if(a.hasOwnProperty(b)&&
4!=a[b].state)return!1;c=!0}return c}function m(a){a.state=1;c(a.onpreload,function(a){a.call()})}function g(a,c){void 0===a.state&&(a.state=2,a.onpreload=[],f({src:a.url,type:"cache"},function(){m(a)}))}function p(a,b,d){if(4==a.state)return b&&b();if(3==a.state)return A.ready(a.name,b);if(2==a.state)return a.onpreload.push(function(){p(a,b)});a.state=3;f(a.url,function(){a.state=4;b&&b();c(t[a.name],function(a){h(a)});k()&&v&&c(t.ALL,function(a){h(a)})},d)}function f(c,d,e){var f=b.createElement("script");
f.type="text/"+(c.type||"javascript");f.src=c.src||c;f.async=e?e:!1;f.onreadystatechange=f.onload=function(){var a=f.readyState;d.done||a&&!(r?/complete/:/loaded|complete/).test(a)||(d.done=!0,d())};(b.body||a).appendChild(f)}function e(){v||(v=!0,c(q,function(a){h(a)}))}var a=b.documentElement,n,v,q=[],B=[],t={},w={},r=!0===b.createElement("script").async||"MozAppearance"in b.documentElement.style||window.opera,u=window.head_conf&&head_conf.head||"head",A=window[u]=window[u]||function(){A.ready.apply(null,
arguments)};A.js=r?function(){var a=arguments,b=a[a.length-1],f={},e=!1;l(b)||(b=null);if(b&&2===a.length||!b&&1===a.length)e=!0;c(a,function(c,n){c!=b&&(c=d(c),f[c.name]=c,p(c,b&&n==a.length-2?function(){k(f)&&h(b)}:null,e))});return A}:function(){var a=arguments,b=[].slice.call(a,1),f=b[0];if(!n)return B.push(function(){A.js.apply(null,a)}),A;f?(c(b,function(a){l(a)||g(d(a))}),p(d(a[0]),l(f)?f:function(){A.js.apply(null,b)})):p(d(a[0]));return A};A.ready=function(a,c){if(a==b)return v?h(c):q.push(c),
A;l(a)&&(c=a,a="ALL");if("string"!=typeof a||!l(c))return A;var d=w[a];if(d&&4==d.state||"ALL"==a&&k()&&v)return h(c),A;(d=t[a])?d.push(c):t[a]=[c];return A};A.ready(b,function(){k()&&c(t.ALL,function(a){h(a)});A.feature&&A.feature("domloaded",!0)});if(window.addEventListener)b.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(window.attachEvent){b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&e()});u=1;try{u=window.frameElement}catch(G){}!u&&
a.doScroll&&function(){try{a.doScroll("left"),e()}catch(c){setTimeout(arguments.callee,1)}}();window.attachEvent("onload",e)}!b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",handler=function(){b.removeEventListener("DOMContentLoaded",handler,!1);b.readyState="complete"},!1));setTimeout(function(){n=!0;c(B,function(a){a()})},300)})(document);
var _SG={},SpilGames=SpilGames||function(b){return function(){b.push(arguments);return b}}(SpilGames||[]),_spque=[],_sgdef={Cookies:["set"],Cache:["set"],Events:["publish","subscribe","subscribeOnce","unsubscribe"],Debug:"log warn error subscribe unsubscribe publish report".split(" "),Users:["get","getCurrentUser","getFriends","getAvatar"],Auth:["authenticate","login","logout"],Net:["post","get"],Highscores:["insert","getFriendScores","getMyScores","getGameScores"],Gameplay:["insert","getMyPlays",
"getFriendPlays"],Activities:["post","getActivityFeed"],Payments:["pay"],Portal:"getInformation adjustHeight requestGameBreak showInviteFriends showScoreboard gotoPage getLocale".split(" ")},_sgpush=function(b,h){return function(){_spque.push([b,h,arguments])}},x;for(x in _sgdef)if(_sgdef.hasOwnProperty(x)){SpilGames[x]={};for(var y in _sgdef[x])_sgdef[x].hasOwnProperty(y)&&(_qobj="_SG."+x,_qcall=_qobj+"."+_sgdef[x][y],SpilGames[x][_sgdef[x][y]]=_sgpush(_qcall,_qobj))}
SpilGames.Settings=new function(){_SG.Settings=this;var b={},h={},d=function(c){return c.toLowerCase()};this.postInit=function(){d=_SG.Deprecation.checkRenamed;var c=function(c){for(old in c)if(c.hasOwnProperty(old)){var b=d(old);b!=old&&(c[b]=c[old],delete c[old])}};c(b);c(h)};this.set=function(c,l,k){k=k?b:h;if("object"==typeof c)for(x in c)c.hasOwnProperty(x)&&(k[d(x)]=c[x]);else k[d(c)]=l};this.setDefault=function(c,b){this.set(c,b,!0)};this.get=function(c){c=d(c);return h[c]||b[c]||null}};
if("undefined"==typeof spilgames_api.apibase)throw"Please specify the base path of the API.";"undefined"!=typeof spilgames_api.channel_id&&SpilGames.Settings.set("portal.channel_id",spilgames_api.channel_id);"undefined"!=typeof spilgames_api.site_id&&SpilGames.Settings.set("portal.site_id",spilgames_api.site_id);
SpilGames.Head=new function(){_SG.Head=this;var b=spilgames_api.apibase;this.api_loaded=!1;this.load=head.js;this.ready=head.ready;this.loadApi=function(){this.include("api",function(){_SG.Head.api_loaded=!0})};this.include=function(){var h=[];for(i=0;i<arguments.length;i++){var d=arguments[i];if("string"==typeof d)if("plugin.integration"==d){var d=_SG.Settings.get("currentPortalInfo")||{},c=d.lang||"en_US",l=d.geoip||{},k=navigator||{},k=(k.language||k.browserLanguage||k.systemLanguage||k.userLanguage).toUpperCase().split(/[-_]/ig);
h.push("http://static1.spilcdn.com/vda/pb/1/0/0?locale="+c+"&country="+(l.country_code||k[1]||k[0])+"&pagetype="+(d.pagetype||"GP"))}else 0==d.indexOf("http://")?h.push(d):h.push(b+"spilgames."+d+".js");else h.push(d)}this.load.apply(this,h)}};
(function(b){var h=null,d=function(c){h==(c.domain||c.origin)&&function(c){var b;try{b=JSON.parse(c.data)}catch(d){b={call:[null,null],id:null}}var h=b.id||"",g=(b.call[0]||"").split(".");b=b.call[1]||{};var p=[],f=/^CALLBACK:/,e=function(a){var b={id:h,call:{id:a||0,data:null}};return function(a){b.call.data=a;c&&c.source&&c.source.postMessage&&c.source.postMessage(JSON.stringify(b),c.domain||c.origin)}},a;for(a in b){if("object"==typeof b[a])for(var n in b[a])f.test(b[a][n])&&(b[a][n]=e(b[a][n]));
f.test(b[a])&&(b[a]=e(b[a]));p.push(b[a])}switch(g.length){case 1:"SpilGames"==g[0]&&SpilGames.apply(this,p);break;case 2:SpilGames[g[1]].apply(this,p);break;case 3:SpilGames[g[1]][g[2]].apply(SpilGames,p)}}(c);null===h&&"SpilGames.registerDomain"==c.data&&(h=c.domain||c.origin)};b.attachEvent?b.attachEvent("onmessage",d,!1):b.addEventListener&&b.addEventListener("message",d,!1)})(window);var _zpQueue=[];
window.ZapapaJSApi=function(b,h,d,c){_zpQueue.push({a:b,d:h,c:d,o:c});1==_zpQueue.length&&(b=function(){_SG.Head.include("plugin.zapapa",function(){for(;_zpQueue.length;){var c=_zpQueue.shift();ZapapaJSApi(c.a,c.d,c.c,c.o)}})},_SG.Head.api_loaded?b():SpilGames.Events.subscribeOnce("api.initialized",b))};/*
 2013, SpilGames
*/
Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var h=Array.prototype.slice.call(arguments,1),d=this,c=function(){},l=function(){return d.apply(this instanceof c&&b?this:b,h.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;l.prototype=new c;return l});SpilGames.Head.loadApi();
SpilGamesBootstrap=window.SpilGamesBootstrap||[[function(){this("spilgames.set@spilgames.module.import.namespaces",{});this("spilgames.set@spilgames.module.portal.channelid",1);this("spilgames.set@spilgames.module.portal.siteid",1);this("spilgames.set@spilgames.module.spapi.backend","https://api.spilgames.com/")}]];
SpilGamesBootstrap.push([function(){var b=this,h=b.messageBroker;h.addRule("api.account.*|api.auth.*",function(d,c){d&&"undefined"!==typeof d.ttl?b(["Cache"],function(b){b.setItem({key:"SPAPI.auth.ttl",value:d.ttl,expires:d.ttl,path:"/"});delete d.ttl;c(d)}):c()});h.addRule("clear.api|api.*|game.api.*",{modules:["SPAPI"],map:{"clear.api":"SPAPI.clear","*":"SPAPI.send"}},h.PROTECTED);h.addRule("tracker.*",{modules:["PageTracker","EventTracker"],map:{"tracker.page.track":"PageTracker.track","tracker.event.init":"EventTracker.init",
"tracker.event.track":"EventTracker.track","tracker.event.express":"EventTracker.trackExpress"}},h.PROTECTED)}]);
(function(b,h,d,c,l,k){function m(){for(var a=arguments,b=a[0].split("@"),f=b[1],e=2<a.length?a[1]:h,b=b[0].split(".").reverse(),n=b.length,C=[],g=3<a.length&&a[2]===d?d:c,a=a[a.length-1];n--;)a[b[n]]||(a[b[n]]={}),a["*"]&&a["*"].listeners&&(C=C.concat(a["*"].listeners)),a=a[b[n]],a["*"]&&a["*"].listeners&&0===n&&(C=C.concat(a["*"].listeners));f&&(a["@"]||(a["@"]={}),a["@"][f]||(a["@"][f]={}),a=a["@"][f]);a.listeners||(a.listeners=[]);a=a.listeners;if(e)if(g)for(n=a.length;n--;)a[n]===e&&a.splice(n,
1);else a.push(e);return C.concat(a)}function g(){return{ns:k,dependencies:{},getApi:function(){return u},create:function(a,b,c){function d(){return a.apply(this,e)}var f=new g,e=[],n=c?c.length:0,h;if(0<n)for(;n--;)h=c[n].split("."),1<h.length?h[0]===k?e.push(b[h[1]]):e.push(b[h[0]][h[1]]):e.push(b[h[0]]);f.dependencies=b||{};a.prototype=f;d.prototype=a.prototype;return d}}}function p(){var a=Object.prototype,f=a.toString,e=Array.prototype.slice,n=a.hasOwnProperty,g={emptyFn:function(){},indexOf:function(a,
b){var c=0;if(a===h)return-1;if(a.indexOf)return a.indexOf(b);for(c=a.length;c--;)if(a[c]===b)return c;return-1},isString:function(a){return"[object String]"===f.call(a)},isDate:function(a){return"[object Date]"===f.call(a)},isNumber:function(a){return"[object Number]"===f.call(a)},isBoolean:function(a){return!0===a||!1===a||"[object Boolean]"===f.call(a)},isArray:Array.isArray||function(a){return"[object Array]"===f.call(a)},isJSON:function(a){return g.isString(a)?/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")):!1},isObject:function(a){return Object(a)===a&&a.constructor===Object},isFunction:function(a){return"[object Function]"===f.call(a)},isElement:function(a){return!(!a||1!==a.nodeType)},has:function(a,b){return n.call(a,b)},isArguments:function(a){return"[object Arguments]"===f.call(a)},isUndefined:function(a){return void 0===a},isDefined:function(a){return void 0!==a},isNodeList:function(a){return a?
/^\[object (HTMLCollection|NodeList|Object)\]$/.test(f.call(a))&&g.isNumber(a.length)&&(0===a.length||"object"===typeof a[0]&&0<a[0].nodeType):!1},isEmpty:function(a){var b;if(""===a||0===a||"0"===a||a===h||a===c||g.isUndefined(a)||g.isArray(a)&&0===a.length)return d;if(g.isObject(a)){for(b in a)if(g.has(a,b))return c;return d}return c},size:function(a){var b=0,c;if(!a)return 0;if(g.isObject(a))for(c in a)g.has(a,c)&&++b;if(g.isString(a)||g.isArray(a)||g.isArguments(a))b=a.length;g.isNumber(a)&&(b=
a.toString().length);return b},combine:function(a,b,c){var d;if(g.multiIs("array",a,b))return a.concat(b);for(d in b)g.has(b,d)&&(c&&g.isObject(b[d])?a[d]=g.combine(b[d]):a[d]=b[d]);return a},clone:function(a){return g.combine({},a,d)},async:function(a,b){var c,d=0,f=g.size(a),e=function(c,e){c(function(c){var n;++d;if(g.isObject(c))for(n in c)a[n]=c[n];else a[e]=c;b&&d===f&&b(a)})};for(c in a)g.has(a,c)&&g.isFunction(a[c])&&e(a[c],c)},isRegex:function(a){return!(!(a&&a.test&&a.exec)||!a.ignoreCase&&
a.ignoreCase!==c)},toArray:function(a){var b,c=[];if(!a)return[a];if(g.isArguments(a))return e.call(a);g.isString(a)&&a.split("");if(g.isArray(a))return e.call(a);if(g.isNodeList(a)){if(a instanceof Object)return e.call(a);b=[];for(c=0;c<a.length;c++)b.push(a[c]);return b}for(b in a)g.has(a,b)&&c.push(a[b]);return c},keys:Object.keys||function(a){var b=[],c;if(a==Object(a))for(c in a)g.has(a,c)&&(b[b.length]=c);return b},each:function(a,b,c){var d=a.length,f=0;if(g.isArguments(a)||g.isString(a)||
g.isNodeList(a))a=g.toArray(a);if(g.isArray(a))for(;f<d;)b.call(c,a[f],f++,a);if(g.isObject(a))for(f in a)b.call(c,a[f],f,a)},once:function(a){var b=c;return function(){if(!b)return b=d,a.apply(a,arguments)}},contains:function(a,b){return g.isString(a)?-1!==a.indexOf(b)?d:c:g.isArray(a)?-1!==g.indexOf(a,b)?d:c:g.has(a,b)},memoize:function(a,b){var c={};b=b||function(a){return a};return function(){var d=b.apply(h,arguments);return g.has(c,d)?c[d]:c[d]=a.apply(a,arguments)}},upperFirst:function(a){return a.charAt(0).toUpperCase()+
a.slice(1)},multiIs:function(){for(var a=g.toArray(arguments),b=g["is"+g.upperFirst(a.shift())],c=a.length;c--;)if(!b.call(h,a[c]))return!1;return!0},RegExEscape:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},getNavigationStartTime:function(){var a=(new Date).getTime(),c=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance||!1;return c&&c.timing&&c.timing.navigationStart?function(){return c.timing.navigationStart}:b.SpilGames&&b.SpilGames.navStartFallback?function(){return b.SpilGames.navStartFallback}:
function(){return a}}()};g.isArguments(arguments)||(g.isArguments=function(a){return!(!a||!g.has(a,"callee"))});return g}function f(){var b=p(),f={},g={},e=0,n=function(a,b){var c=a.opt,d=b.opt,f=a.index,g=b.index,e=a.addIndex,n=b.addIndex,c=c&-14,d=d&-14;2===c&&(c=0);2===d&&(d=0);if(c===d)return c&64&&f!==g?f-g:c&32?n-e:e-n;if(c&16)return d&16&&d&2?1:0===d||d&64?-1:c-d;if(c&32)return 0===d||d&64?1:c-d;if(c&64)return d&64&&d&2?1:f-n;if(0===c){if(d&16)return 1;if(d&32)return-1;if(d&64)return e-g}return 0},
q=function(a){var b;g[a]||(b=m(a,f),g[a]=b?b.sort(n):[]);return!!g[a].length},k=function(a){q(a);return g[a]};return{FORCE:1,PROTECTED:2,ASYNC:4,KILL:8,FIRST:16,LAST:32,INDEX:64,rulesIndex:f,getRules:k,hasRules:q,removeRule:function(a,b,c,e){var n=k(a),q=n.length;b=b||[];c=c||0;for(e=e||h;q--;)(n[q].oLogic||n[q].logic)!==b||n[q].opt!==c||n[q].index!==e||n[q].opt&2||(m(a,n[q],d,f),g={})},addRule:function(c,d,n,q){function k(a,b){var c=this.event.rule.logic,d=this.event.rule.event,f=c.split("*"),d=
d.split("*"),g=this.event.type;1<f.length&&(c=1<d.length?f[0]+g.split(d[0])[1]:f[0]+g);u(c,a);b()}function p(a,b){var c=this.event;u(function(){this.event=c;c.rule.logic.apply(this,[a,b])})}function l(){var c=a(),f={},g=b.memoize(function(a){for(var c=d.map._index||b.keys(d.map),f=c.length,g=0,e;g<f;g++)if(e=new RegExp("^"+c[g].replace(/\./g,"\\.").replace(/\*$/,".*")+"$"),e.test(a))return c[g];return!1});c.pause();b.isArray(d.modules)?u(d.modules,function(){for(var a=0,b=d.modules.length;a<b;a++)f[d.modules[a]]=
arguments[a];c.pause()}):c.pause();return function(a,b){c.push(function(a,c,b){if(d.map&&g(a.event.type)){var e=d.map[g(a.event.type)],n=e.split("."),h=n.pop(),n=n.join(".");f[n]&&f[n][h]?f[n][h].call(a,c,b):(u.error("mapError",0,e+" does not exist"),b(c))}},[this,a,b],0,"mb")}}var t;b.isString(d)&&(t=k);b.isFunction(d)&&(t=p);b.isObject(d)&&(t=l());if(!b.isEmpty(c)&&!b.isEmpty(t)){c=c.split("|");for(var v=0,r=c.length;v<r;v++)m(c[v],{event:c[v],logic:d,opt:n||0,index:b.isUndefined(q)?h:q,code:t,
addIndex:e++},f);g={}}},publish:function(a,f,g){function e(){var a;n[q]?(a=n[q++],f.event.rule=a,a.opt&8&&(h=d),u.debug("mb:"+a.event,a.oLogic||a.logic),a.code.call(f,f.event.data,function(c){b.isDefined(c)&&(f.event.data=c);a.opt&4||e()}),a.opt&4&&e()):h||(delete f.event.rule,g(f.event))}var n=k(a),h=c,q=0;f={event:f};e()}}}function e(){function a(c,b){var d;if("string"===typeof c&&(c=c.split("|"),e.isFunction(b)))for(;d=c.pop();)m(d,b,n);return l}function b(a,c,d){function f(){var c=m(p,n);p!==
a&&(c=c.concat(m(a,n)));return c}function g(c){var b=f(p),n=b.length,h=0,k=[],l;for(q[p]=q[a]={eventData:c};h<n;)-1===e.indexOf(k,b[h])&&(k.push(b[h]),l=b[h],e.isFunction(l)&&(c.callee=l,d.event=c,l.call(d,c.data))),h++,l=f(p),n!==l.length&&(h=0,n=l.length,b=l)}var p=a.split(/#APIID\.[0-9]{9,}/)[0],t=p.split("@");c={type:p,cleanType:t[0],id:t[1]||h,callee:h,data:e.isDefined(c)?c:h};d=d||{};k&&k.hasRules(p)?k.publish(p,c,g):g(c);return l}function f(a,c){e.isFunction(c)&&m(a,c,d,n);return l}function g(a){var b;
a=new RegExp("^"+a.replace(".","\\.").replace("*",".*"));for(b in q)if(e.has(q,b)&&a.test(b))return b;return c}var e=p(),n={},q={},k=h,l={};return l={subscribe:a,sub:a,publish:b,pub:b,unsubscribe:f,unsub:f,hasSubscribers:function(a){return e.isEmpty(m(a,n))},isPublish:function(a){return g(a)===c?c:d},getLastEventData:function(a){if((a=g(a))&&e.has(q,a))return q[a].eventData},clear:function(){n={};return l},set:function(a,c){"messagebroker"===a&&(k=c);return l}}}function a(){function a(){var e=h,p=
0,v=d,r=c,p=function(a){for(var b=g[a]||[],f=b.length;f--;)if(b[f]!==h)return c;delete g[a];return d};l&&p(l)&&b.publish(k+".queue.empty@"+l);0<n.length?(e=n.shift(),l=e.id,p=e.pos,e=g[l][p],g[l][p]=h,q=1,l?b.publish(k+".queue.next@"+l,e):b.publish(k+".queue.next",e),e.opt&1&&(e.opt&2?(e.params.push(a),v=c):e.params.push(f.emptyFn)),e.opt&2&&f.isFunction(e.params[e.params.length-1])&&(e.callback=e.params.pop(),e.params.push(function(){e.callback();a()}),v=c),e.opt&4&&(r=d),!r&&f.isFunction(e.call)&&
(f.isArray(e.params)||(e.params=[e.params]),e.call.apply({},e.params)),v&&t&&a()):(b.publish(k+".queue.idle"),q=0)}var b=e(),f=p(),g={},n=[],q=0,l=h,t=d;return{next:a,push:function(c,b,d,e){e=e||0;var h=0;g[e]||(g[e]=[]);h=g[e].push({call:c||f.emptyFn,params:b||[],opt:d||0});n.push({id:e,pos:--h});0===q&&t&&a()},pause:function(b){t=t?c:d;f.isBoolean(b)&&(t=b);0===q&&t&&0<n.length&&a()},set:function(a,c){switch(a){case "events":b=c;break;case "auto":t=c}}}}function n(){var e=a(),f=p(),g=q.head||q.getElementsByTagName("head")[0]||
h,n=q.body||q.getElementsByTagName("body")[0],l={index:["css","script"],script:/\.js$/,css:/\.css$/},v={script:function(a,c){var b=q.createElement("script"),e=g||n;b.type="text/javascript";b.src=a;b.async=d;c=c?f.once(c):f.emptyFn;b.onreadystatechange=b.onload=function(){var a=b.readyState;a&&!/loaded|complete/.test(a)||c(b)};e.appendChild(b)},css:function(a,c){var b=q.createElement("link"),f=g||n;b.type="text/css";b.rel="stylesheet";b.href=a;f.appendChild(b);c()}},r=function(a,b,c){e.push(function(a,
b,c){var d=f.memoize(function(a){for(var b=l.index,c=b.length;c--;)if(l[b[c]].test(a))return b[c];return h},function(a){return a+l.index.join()}),e,g=function(){e--;0===e&&b.apply(b,arguments)},n,q,k;b=b||f.emptyFn;f.isArray(a)||(a=[a]);n=e=a.length;for(a.reverse();n--;)if(c?(q=a[n],k=c):(q=/^([a-z0-9]+):([\s\S]+)/.exec(a[n]))?(k=q[1],q=q[2]):(q=a[n],k=d(q)),v[k])v[k](q,g);else g()},[a,b,c],0,"fl")};return{pause:e.pause,module:function(a,g){e.push(function(a,e){var g={},n={},h=[],l={},p,r,m,B=f.memoize(function(){var a=
[],c=["moz","ms","o","webkit",""],f=c.length;for(b.JSON&&a.push("JSON");f--;)if(b[c[f]+"IndexedDB"]){a.push("IndexedDB");break}q.querySelector&&q.querySelectorAll&&a.push("querySelector");b.openDatabase&&a.push("WebSQLDB");try{b.localStorage&&a.push("LocalStorage")}catch(d){}b.navigator.cookieEnabled&&a.push("Cookie");return a}),I=function(){var a=n[k],b;for(b in a)f.has(a,b)&&(n[b]=a[b]);delete n[k];(e||f.emptyFn)(n)},A=function(){var a=h.length,b={},c,d,e,n="",q=u.get(k+".module.import.namespaces");
if(q.defaultNs){for(h.sort().reverse();a--;)c=h[a],d=g[c],e=q[c]||q.defaultNs,b[e]||(b[e]=e),f.contains(b[e],"?")?b[e]+="&":b[e]+="?",b[e]+="req:"+c+"=",b[e]+=d.join(",");for(c in t)n+="&has:"+c+"="+t[c].index.join(",");for(e in b)b[e]+="&browser="+B(),b[e]+=n,v.script(b[e])}};f.isArray(a)||(a=[a]);for(p=a.length;p--;)r=a[p].split("."),m=r[1]?r[0]:k,r=r[1]||r[0],t[m]&&t[m][r]?(n[m]||(n[m]={}),n[m][r]=t[m][r]):w.modules[m]&&w.modules[m][r]?(l[m]||(l[m]={}),l[m][r]=1):(g[m]||(g[m]=[],h.push(m)),g[m].push(r),
w.addModule(m,r));f.multiIs("empty",g,l)?I():(u.subscribe(k+".module.import.moduleloaded",function(a){var b=a.ns;a=a.name;var e=0,h=c;g[b]&&-1!==(e=f.indexOf(g[b],a))&&(h=d,g[b].splice(e,1),f.isEmpty(g[b])&&delete g[b]);l[b]&&l[b][a]&&(h=d,delete l[b][a],f.isEmpty(l[b])&&delete l[b]);h&&(n[b]||(n[b]={}),n[b][a]=t[b][a]);f.multiIs("empty",g,l)&&(u.unsubscribe(k+".module.import.moduleloaded",this.event.callee),I())}),f.isEmpty(g)||A())},[a,g],0,"ml")},file:r,script:function(a,b){r(a,b,"script")},css:function(a,
b){r(a,b,"css")},setMap:function(a,b){"index"===a&&f.isArray(b)?l.index=b.reverse():l[a]=b}}}function v(){function a(e,f,d,g){var n=c.combine(function(){u.apply(h,arguments)},u),q=Array((d||[]).length),l,k,p;if(e&&f){for(l in e)if(c.has(e,l))if(c.isObject(e[l]))for(k in e[l])c.has(e[l],k)&&(n[l]||(n[l]={}),n[l][k]=new e[l][k],p=c.indexOf(d,l+"."+k),-1!==p&&(q[p]=n[l][k]));else n[l]=new e[l],p=c.indexOf(d,l),-1!==p&&(q[p]=n[l]);g.name&&(n.sandboxname=g.name);try{f.apply(n,q)}catch(t){u.error.call(t,
t,0,""+t,0,f),b.console&&"function"===typeof b.console.trace&&b.console.trace("%c Exception stack trace:","background: red; color: #fff")}(g.name||g.readyevent)&&u(g.readyevent||g.name+".ready")}}var c=p();return{create:function(b,c,e,f){return new a(b,c,e||[],f||{})}}}var q=b.document,B="function"===typeof b.SpilGames?b.SpilGames():b.SpilGames||[],t={},w={modules:{},addModule:function(a,b){w.modules[a]||(w.modules[a]={});w.modules[a][b]=1}},r=function(){return q.all?function(a,c){var e,f=[];for(e=
2;e<arguments.length;e++)f.push(arguments[e]);return b.setTimeout(function(){a.apply(h,f)},c)}:b.setTimeout}(),u;t[k]={JSLib:function(){return u},Module:g,Utils:p,MessageBroker:f,Events:e,Queue:a,Import:n,Sandbox:v};t[k].index=p().keys(t[k]);u=function(){function a(b,c){if(z.isArray(b)){var e,f=b.length,d=0,g=function(a){m.isPublish(a)?d+=1:m.subscribe(a,function(){m.unsubscribe(a,this.event.callee);d+=1;d===f&&c()})};for(e=0;e<f;e+=1)g(b[e]);d===f&&c()}else z.isString(b)?m.isPublish(b)?c(m.getLastEventData(b)):
m.subscribe(b,function(){m.unsubscribe(b,this.event.callee);c.apply(this,arguments)}):c()}function q(){var c=z.toArray(arguments),e,f,d=z.emptyFn,g,n,h={},k=+new Date,p=function(a){g!==b.SpilGames&&r.create(a,g,n,h)};if(c[0])if(z.isObject(c[0])&&(h=c.shift()),z.isString(c[0])){e=c.shift();u.debug.timer(k,e);if(!z.isFunction(c[0])||z.isFunction(c[1]))f=c.shift();z.isFunction(c[0])&&(d=c.shift(),e+="#APIID."+k);g=function(){var b=this,c=z.toArray(arguments);b.subscribe(e,function(a){b.unsubscribe(e,
this.event.callee);this.event.callee=d;b.event=this.event;c.unshift(a);d.apply(b,c);b.debug.timer(k)});a(h.waiton,function(){b.publish(e,f)})};p({})}else z.isArray(c[0])&&(n=c.shift()),z.isFunction(c[0])&&(g=c.shift()),a(h.waiton,function(){n?l.module(n,p):p({})});return u}var l=n(),r=v(),m=e(),C=f(),z=p(),K=g(),D={"spilgames.version":{value:0}};z.combine(q,{init:function(){var a,b;if(!u.get(k+".module.import.namespaces").defaultNs){a=0;for(b=B.index||B.length;a<b;a++)u.apply(h,B[a]);B=[]}},push:function(a){q.apply(b,
a)},publish:m.publish,unsubscribe:m.unsubscribe,subscribe:m.subscribe,inRequest:w.addModule,set:function(){var a,b=function(b,c,e){if(b){if(!D[b])return D[b]={opt:e||0,value:c},q;if(D[b].opt&2)return q;if(D[b].opt&1){if(z.isObject(D[b].value)){if(z.isObject(c))for(a in c)z.has(c,a)&&(D[b].value[a]=c[a]);return q}if(z.isArray(D[b].value))return D[b].value.push(c),q;z.isFunction(c)&&(c="function(){}");D[b].value+=c;return q}D[b]={opt:e||0,value:c}}return q};b.APPEND=1;b.PROTECTED=2;return b}(),get:function(a){return D[a]?
D[a].value:h},error:function(a,b,c,e,f){e={error:a,number:b,level:e||0,caller:f,scope:this,detail:c,isError:!0,toString:function(){return b+":"+a+" - "+c}};q.publish("spilgames.error",e);q.debug.error(e);return e},debug:function(a){function c(){function b(){if(a)if("function"===typeof a[d])a[d].apply(a,f);else a[d](f);q.publish(k+".debug."+d,f);return a&&a[d]}var f=z.toArray(arguments),d=f.shift();"error"!==d||b()||(f.unshift("ERROR:"),d="log");if(e){if("time"===d&&a[d])a[d](f[0]);if("timeEnd"===
d)if(a[d])a[d](f[0]);else d="log";"info"===d&&(a[d]?b():d="log");if("warning"===d||"warn"===d)d="warn",a[d]?b():d="log";"log"===d&&b()}}var e=a&&b.jslibDebug,f={};return z.combine(function(){var a=z.toArray(arguments);a.unshift("log");c.apply(h,a)},{timer:function(a,b){var e=f[a];if(e)return c("timeEnd","(id:"+a+") "+e.n,"in:"+(new Date-e.s));f[a]={n:b||a,s:+new Date};c("time","(id:"+a+") "+f[a].n)},error:function(){var a=z.toArray(arguments);a.unshift("error");c.apply(h,a)},info:function(){var a=
z.toArray(arguments);a.unshift("info");c.apply(h,a)}})}(b.console),getApi:function(){return q},ns:k,version:h,environment:h,messageBroker:{removeRule:C.removeRule,addRule:C.addRule,rulesIndex:C.rulesIndex,FORCE:C.FORCE,PROTECTED:C.PROTECTED,ASYNC:C.ASYNC,KILL:C.KILL,FIRST:C.FIRST,LAST:C.LAST,INDEX:C.INDEX}});C.addRule(k+".set.*",function(a){var b=this.event;b.id&&(b=b.id.split("#"),q[b[0].split(".")[1]]===h&&(q[b[0].split(".")[1]]=a),q.set(b[0],a,b[1]||0))});m.set("messagebroker",C);l.pause(c);m.subscribe(k+
".module.import.loadmodule|"+k+".import",function(a){var b=(a.fullName||a.name).split("."),c=a.dependencies||a.deps||[],e=b[1]?b[0]:k,d=b[1]||b[0],f={},b=function(a,b){var c=a.length,e=[],d,g;for(a.reverse();c--;)g=a[c].split("."),d=g[1]?g[0]:k,g=g[1]||g[0],t[d]&&t[d][g]?d===k?f[g]=new t[d][g]:(f[d]||(f[d]={}),f[d][g]=new t[d][g]):e.push(d+"."+g);0<e.length?l.module(e,function(c){for(var e in c)if(z.has(c,e))if(z.isObject(c[e]))for(z.name in e)z.has(d,void 0)&&(f[e][void 0]=new e[void 0]);else f[e]=
new c[e];b(a)}):b(a)},g=function(b){b=b||[];w.modules[e]&&w.modules[e][d]&&delete w.modules[e][d];t[e]||(t[e]={index:[]});t[e][d]=K.create(a.module,f,b);t[e].index.push(d);u(k+".module.import.moduleloaded",{name:d,ns:e})};t[e]&&t[e][d]||(w.addModule(e,d),0<c.length?b(c,g):g())});m.subscribe(k+".dom.ready",z.once(function(){l.pause(d)}));return q}();(function(){function a(){return u.apply(h,arguments)}var c=p(),e;if(b.SpilGames)for(e in b.SpilGames)b.SpilGames.hasOwnProperty(e)&&(a[e]=b.SpilGames[e]);
a.require=function(a){if(a in t.spilgames&&"function"===typeof t.spilgames[a])return t.spilgames[a]();throw Error("Module does not exist or is not loaded yet: "+a);};b.SpilGames=a;if(c.isArray(l))for(c=0,e=l.length;c<e;c++)u.apply(h,l[c]);c=0;for(e=B.index||B.length;c<e;c++)u.apply(h,B[c])})();(function(){var a=c,e,f=function(){a||(a=d,u(k+".dom.ready"))},g=function(){if(!a)try{q.documentElement.doScroll("left"),f()}catch(b){r(g,10)}};if("complete"===q.readyState||q.body)f();else if(q.addEventListener)q.addEventListener("DOMContentLoaded",
f,c);else if(q.attachEvent){try{e=b.frameElement!==h}catch(n){}q.documentElement.doScroll&&!e&&g();q.attachEvent("onreadystatechange",function(){"complete"===q.readyState&&f()})}else b.addEventListener?b.addEventListener("load",f,c):b.attachEvent?b.attachEvent("onload",f):b.onload=f})()})(this||window,null,!0,!1,SpilGamesBootstrap,"spilgames");SpilGames("JSLib SPAPI Cookie SWP Utils FeatureDetector".split(" "),function(b,h,d,c,l,k){c.init("js_aggregator");var m=h.getStateInfo(d.getItem("token")||""),g=function(a,b){var e=c.get("login_complete_handler");b&&e&&b.state===h.STATE_LOGGEDIN&&"function"===typeof e?e.call(this,a,b):window.location.reload(!0)},p=function(){b("api.account.getToken",{cache:!0},function(a){a=a.auth.token;var c=h.getStateInfo(a),e=m;m=c;a!==e.token&&(b("api.event.auth.changed",c),c.state!==e.state&&g(e,c))})},f=function(a){d[a?
"setItem":"removeItem"]({key:"rememberme",value:"1",path:"/",expires:"never"})},e=function(a,e){var d=a&&a.rememberMe?!0:!1;f(d);b("api.auth.login",{rememberMe:d,login:a.username,password:a.password},function(a){l.isFunction(e)&&e.call(this,a);c.System.emit("login.finished")})},a=function(a){b("api.auth.logout",{},function(){f(!1);p();l.isFunction(a)&&a.call(this)})},n=function(a){var b=d.getItem("rememberme");d.setItem({key:"token",value:a.token,expires:a.state===h.STATE_LOGGEDOUT||b?"never":0,path:"/"})},
v=function(a){b("api.account.getToken",{cache:!0},function(b){n({state:h.STATE_LOGGEDOUT,token:b.auth.token});a&&a()})},q=function(a){if(k.cookies()){var b=d.getItem("token")||null;b?h.setNewToken({auth:{token:b}}):1>a&&v(function(){q(a+1)})}};q(0);b.subscribe("api.event.auth.changed",n);c.System.init(function(b){switch(b.name){case "auth.login.remember":f(b.body.rememberMe);break;case "auth.login.request":e(b.body,b.body.callback);break;case "auth.logout.request":a(b.body.callback);break;case "login.finished":case "registration.finished":p()}})});/*
 2015, SpilGames
*/
SpilGames("spilgames.import",{name:"Slider",deps:["DOMEvent","FeatureDetector","SWPUtils","BeLazy"],module:function(b,h,d,c){function l(a,b){function c(){f=Math.min(f+1/(60*a.duration),1);a.slide.style.left=e+(d-e)*f+"%";1>f&&(a.rAF=window.requestAnimationFrame(c))}var e=parseFloat(a.slide.style.left||0),d=-100*b,f=0;window.cancelAnimationFrame(a.rAF);a.duration?a.rAF=window.requestAnimationFrame(c):a.slide.style.left=d+"%"}function k(a){var b=this;this.options=a;this.slide=a.slide;this.prevButton=
a.prev;this.nextButton=a.next;this.currentPage=0;this.refresh();this.setDuration(a.duration||.4);f?(this.slide.style[m]=f,this.setEasing(a.easing||"ease")):this.slide.style.position="relative";this.bind();c.until("visible",this.slide,function(){b.refresh();b.updateUIButtons()})}var m,g,p,f,e=window.document.createElement("div");h.transitions()&&("string"===typeof e.style.transition?(m="transitionProperty",g="transitionDuration",p="transitionTimingFunction"):["Webkit","Moz","Ms","O"].forEach(function(a){"string"===
typeof e.style[a+"Transition"]&&(m=a+"TransitionProperty",g=a+"TransitionDuration",p=a+"TransitionTimingFunction")}),"string"===typeof e.style.transform?f="transform":["-webkit-","-moz-","-ms-","-o-"].forEach(function(a){"string"===typeof e.style[a+"transform"]&&(f=a+"transform")}));k.init=function(a){return new k(a)};k.prototype.refresh=function(){this.numberOfItems=this.slide.getElementsByTagName("li").length;this.numberOfPages=Math.ceil(this.slide.scrollWidth/this.slide.clientWidth);isFinite(this.numberOfPages)&&
0!==this.numberOfItems||(this.numberOfPages=1)};k.prototype.bind=function(){this.prevButton&&this.nextButton&&this.slide&&(b.add(this.prevButton,"click",function(){this.refresh();this.slideTo(this.currentPage-1)}.bind(this)),b.add(this.nextButton,"click",function(){this.refresh();this.slideTo(this.currentPage+1)}.bind(this)),b.add(this.slide,"swipe",function(a){a=a.swipeDirection;if("right"===a||"left"===a)this.refresh(),this.slideTo("right"===a?this.currentPage-1:this.currentPage+1)}.bind(this)))};
k.prototype.setDuration=function(a){this.duration!==a&&(this.duration=a,g&&(this.slide.style[g]=a+"s"))};k.prototype.setEasing=function(a){p&&(this.slide.style[p]=a)};k.prototype.updateUIButtons=function(){0===this.currentPage?d.addClass(this.prevButton,"is-disabled"):d.removeClass(this.prevButton,"is-disabled");this.currentPage===this.numberOfPages-1?d.addClass(this.nextButton,"is-disabled"):d.removeClass(this.nextButton,"is-disabled")};k.prototype.slideTo=function(a,b){if(0>a||this.numberOfPages<=
a||this.currentPage===a)return this.currentPage;void 0===b?b=this.options.duration:this.setDuration(b);if(f){var e=this.slide.getElementsByTagName("li")[0].offsetWidth,d=this.slide.clientWidth/e,g=Math.floor(this.slide.clientWidth/e);this.slide.style[f]=a===this.numberOfPages-1?"translateX(-"+(this.numberOfItems-d)*e+"px)":"translateX(-"+g*e*a+"px)"}else l(this,a);window.setTimeout(function(){c.trigger()},1E3*b+10);this.currentPage=a;this.updateUIButtons();this.emit({type:"slide",page:a});return a};
k.prototype.on=function(a,b){var c=this.listeners||{};c[a]=c[a]||[];-1===c[a].indexOf(b)&&c[a].push(b);this.listeners=c;return this};k.prototype.off=function(a,b){if(this.listeners&&this.listeners[a]){var c=this.listeners[a],e=c.indexOf(b);-1!==e&&c.splice(e,1)}return this};k.prototype.emit=function(a){this.listeners&&this.listeners[a.type]&&this.listeners[a.type].forEach(function(b){b.call(this,a)},this);return this};return k}});
(function(b){var h,d=0,c=["webkit","moz"];for(h=0;h<c.length&&!b.requestAnimationFrame;h+=1)b.requestAnimationFrame=b[c[h]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[c[h]+"CancelAnimationFrame"]||b[c[h]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(c){var h=(new Date).getTime(),m=Math.max(0,16-(h-d)),g=b.setTimeout(function(){c(h+m)},m);d=h+m;return g});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(c){b.clearTimeout(c)})})(window);SpilGames("spilgames.import",{name:"Placeholder",deps:["FeatureDetector","DOMEvent"],module:function(b,h){return{init:function(d){if(!1===b.placeholder()){var c=document.getElementById(d);d=c.getAttribute("placeholder")||c.attributes&&c.attributes.placeholder?c.attributes.placeholder.nodeValue:null;var h=function(b,c,d){return b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d)};if(d){var k=document.createElement("input");k.type="text";k.value=d;k.className=c.className;k.placeholder=
c.placeholder;k.name=c.name;k.id=c.id+"_ph";c.parentNode.insertBefore(k,c.nextSibling);c.style.display="none";h(k,"keydown",function(){c.style.display="";k.style.display="none";c.focus()});h(c,"blur",function(){""===c.value&&(c.style.display="none",k.style.display="")})}}},setFeatureDetector:function(d){b=d}}}});SpilGames("spilgames.import",{name:"Accordion",deps:["FeatureDetector","SWPUtils","DOMSelect","DOMEvent"],module:function(b,h,d,c){return{init:function(l){b.cssContent()||h.toArray(d.getAll("label")).forEach(function(b){b.innerHTML="<b></b>"+b.innerHTML+"<a></a>"});var k=h.toArray(d.getAll(l+" input[type='radio']")).filter(function(b){return b.checked})[0];k?h.addClass(k.parentNode,"active"):h.addClass(d.get(l+"li"),"active");h.toArray(d.getAll("label")).forEach(function(b){c.add(b,"click",function(b){h.toArray(d.getAll(l+
" .active")).forEach(function(b){h.removeClass(b,"active")});h.addClass((b.target||b.srcElement).parentNode,"active")})})}}}});SpilGames("spilgames.import",{name:"Tabs",deps:["DOMSelect","DOMEvent","SWP","BeLazy"],module:function(b,h,d,c){var l=window,k,m,g,p,f=function(b){-1<b&&m&&m[b]&&(d.Utils.toggleClass([m[p],m[b]],"is-hidden"),d.Utils.toggleClass([k[p],k[b]],"tab-active"),p=b)};return{init:function(e){k=b.getAll(".tab-switch",e);m=b.getAll(".tab-content",e);g=b.get(".tab-active",e);e&&k&&m&&g&&(p=Array.prototype.indexOf.call(k,g),h.add(k,"click",function(a){a=a||l.event;f(Array.prototype.indexOf.call(k,a.target||a.srcElement));
c.trigger()}))},switchTo:f}}});SpilGames("spilgames.import",{name:"Net",deps:["Import","Utils","JSON"],module:function(b,h,d){var c=this,l=h.has,k=h.emptyFn,m=h.once,g=h.isUndefined,p=c.getApi(),f=window.escape,e=p.get(c.ns+".module.net.transport")||["xhr"],a=function(a){var b=function(){if(a.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}return null};b.cors=
function(){var c;if(a.XDomainRequest)return c=new XDomainRequest,c.checkScheme=function(b){return/^[^:]+:(\/\/)/.test(b)?a.location.protocol===b.split(":")[0]+":":!0},c;c=b();return g(c.withCredentials)?null:c};return b}(window),n={},a={xhr:a,cors:a.cors,jsonp:function(){var a="",e="jsonp"+c.ns+ +new Date,d={open:function(b,c){a=c},onreadystatechange:k,set:function(a,b){d.set[a]=b},send:function(c){var f=d.set.callback||0,g=d.set.data||0;if(c||f||g)a=/\?/.test(a)?a+"&":a+"?",c&&(a+=g?g+"="+encodeURIComponent(c):
c,f&&(a+="&")),f&&(a+=f+"="+e);b.file("script:"+a)}};window[e]=function(){d.onreadystatechange.apply(this,arguments)};return d}},v=function(a){for(var b=0,d=0,f=p.get(c.ns+".module.net.transporters.map"),g,b=e.length;d<b;d++)if(a&&"cors"===e[d]&&d++,g=f[e[d]]())return g},q=function(a){var b,c=a.backendResult||null,e=a.error,d=a.errorString,f=a.errorCode||0;switch(a.dataType||null){case "xml":a="<error><error> "+e+" </error><error_string>"+d+"</error_string><error_code>"+f+"</error_code></error>";
if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");b.async=!1;b=b.loadXML(a);break}b=new DOMParser;b=b.parseFromString(a,"text/xml");break;case "html":break;default:b=a,b.toString=function(){return[c,e,d,f].join()}}b.isError=!0;return b},B=function(a,b,c){var e;if(c){if(a.responseType){if(("xml"===b||"html"===b)&&"document"===a.responseType||a.responseType===b)return a.response;e=new RegExp(b);if(e.test(a.responseType))return a.response}if(("xml"===b||"html"===b)&&a.responseXML)return a.responseXML;
a=a.responseText}if(n[b])try{return n[b](a)}catch(f){return q({backendResult:a,error:"parse_error:"+b,errorString:f.message,errorCode:0,dataType:b})}try{switch(b){case "json":return h.isObject(a)?a:d.parse(a);case "xml":if(window.ActiveXObject)return e=new ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(a);e=new DOMParser;return e.parseFromString(a,"text/xml");default:return a}}catch(f){return q({backendResult:a,error:"parse_error:"+b,errorString:f,errorCode:0,dataType:b})}};p.get(c.ns+".module.net.transporters.map")||
p.set(c.ns+".module.net.transporters.map",a,p.set.APPEND);c.post=function(a,b,e,d){c.send({url:a,data:h.isObject(b)?b:{},dataType:(h.isFunction(b)?e:d)||"text",type:"POST"},(h.isFunction(b)?b:e)||k)};c.get=function(a,b,e,d){c.send({url:a,data:h.isObject(b)?b:{},dataType:(h.isFunction(b)?e:d)||"text",type:"GET"},(h.isFunction(b)?b:e)||k)};c.send=function(a,b){var c=new v,e=a.url||"",n=(a.type||"GET").toUpperCase(),p=g(a.data)?{}:a.data,E=(a.dataType||"text").toLowerCase(),F=a.username||null,I=a.password||
null,C=a.headers||{},z=a.withCredentials||!1,K=a.async||!0,D=a.overrideMimeType||0,J=a.extra||0,M=a.timeout||!1,T=g(a.abort)||a.abort?!0:!1,O=!1,L=m(function(){b.apply(this,arguments)}),P=m(function(){(a.onsuccess||k).apply(this,arguments);(L||k).apply(this,arguments);O=!0}),N=m(function(){(a.onerror||k).apply(this,arguments);(L||k).apply(this,arguments)}),V=m(function(){if(!O){var b=q({error:"timeout_error",errorString:"Maximum timeout of "+M+" ms. exceeded",errorCode:0});(a.ontimeout||k).call(this,
b);(N||k).call(this,b);(L||k).call(this,b)}}),U=a.onreadystatechange||k,Q=h.memoize(function(a){var b="",c,e=function(a,b){var c=a.length,g="";for(b=b?b+"[]=":"";c--;)h.isEmpty(g)||(g+="&"),g+=b,g=h.isArray(a[c])?g+e(a[c]):h.isObject(a[c])?g+(""+f(d.stringify(a[c]))):g+f(a[c]);return g};if(h.isObject(a))for(c in a)l(a,c)&&(h.isEmpty(b)||(b+="&"),b=h.isArray(a[c])?b+e(a[c],c):h.isObject(a[c])?b+((c?c+"=":"")+f(d.stringify(a[c]))):b+(c+"="+f(a[c])));else h.isString(a)&&(b=a);return b}),R=function(a){var b=
Q(p);"GET"===n&&""!==b&&(a=/\?/.test(a)?a+"&":a+"?",a+=b);return a},S=function(a){a=a||{};N(q({error:"http_error:"+E,errorString:c.statusText||a.error_string||c.status,errorCode:a.error_code,dataType:E}))},H;z&&g(c.withCredentials)&&(c=new v(!0));c.checkScheme&&!c.checkScheme(R(e))&&(c=new v(!0));navigator.userAgent.match(/Trident\/7.0;.* rv:11/)&&(c=new v(!0));try{c.open(n,R(e),K,F,I)}catch(W){(a.onerror||b||k).call(this,q({error:"transport_open_error",errorString:"Failed to open transport",errorCode:0}));
return}g(c.withCredentials)||(c.withCredentials=z);"POST"===n&&(C["Content-Type"]=C["Content-Type"]||C["content-type"]||"application/x-www-form-urlencoded");if(c.setRequestHeader)for(H in C)l(C,H)&&c.setRequestHeader(H,C[H]);c.overrideMimeType&&D&&c.overrideMimeType(D);if(c.set&&J)for(H in J)l(J,H)&&c.set(H,J[H]);c.onreadystatechange=c.onload=function(a){var b,e=null;U(c);b=parseInt(c.status,10);g(c.readyState)?e=B(c.responseText||a||"unknown",E):4===c.readyState&&(200<=b&&300>b||304===b?e=B(c,E,
!0):S());e||204!==b&&201!==b?e&&(e.isError?N(e):P(e)):P("")};c.onerror=S;M&&setTimeout(function(){h.isFunction(c.abort)&&T&&c.abort();V()},M);c.send(Q(p))};c.set=function(a,b){switch(a){case "transport":h.isArray(b)&&(e=b)}}}});SpilGames("spilgames.module.import.loadmodule",{name:"Segmentation",deps:["Utils","JSLib","Cache"],module:function(b,h,d){var c=function(b,c){d.setItem({key:"Segmentation.profile",value:b,expires:300},function(d){c(b)})},l=function(c,h){c=c||b.emptyFn;h=h||b.emptyFn;d.getItem("Segmentation.profile",function(d){b.isObject(d)?c(d):h(!1)})},k=function(c){var d={};b.each("age gender behaviorId value valueAds valueEUM valueTotal".split(" "),function(f){b.has(c,f)?d[f]=c[f]:d[f]=null});return{segments:d}},
m=function(d){l(d,function(l){SpilGames("api.user.segments",{cache:!1},function(f){b.has(f,"userSegments")&&b.isObject(f.userSegments)&&0<b.keys(f.userSegments).length?c(k(f.userSegments),d):(h("spilgames.debug.info.segmentation",{msg:"invalid or error response from api.user.segments"}),c(!1,d))})})};return{getSegmentData:function(b){if("function"!==typeof b)return h("spilgames.debug.info.segmentation",{msg:"missing callback, giving null as result"}),null;m(b)},getSegmentProfileData:function(b){return this.getSegmentData(b)},
init:function(b){b&&b()}}}});SpilGames("spilgames.import",{name:"Memory",module:function(){function b(b,c){c&&c(b);return b}var h={};return{setItem:function(d,c){h[d.key]=d;return b(!0,c)},getItem:function(d,c){var l=h[d.key],k=+new Date;return l&&(0===l.expires||k<l.expires)?b(l.value,c):b(null,c)},removeItem:function(d,c){var l=delete h[d.key];return b(l,c)},getAllItems:function(){return h},reset:function(){h={}}}}});SpilGames("spilgames.import",{name:"Cookie",deps:["JSON","Utils"],module:function(b,h){var d=this,c=window.document,l=window.escape,k=window.unescape;d.setItem=function(d,g){var k=!1,f=d.expires||"",e=d.domain?"; domain="+d.domain:"",a=d.path?"; path="+d.path:"",n=d.secure?"; secure"+d.secure:"",v=d.key,q=d.value||"";if(v&&!/^(?:expires|max\-age|path|domain|secure)$/.test(v)){h.isString(f)&&""!==f&&(f="never"===f?new Date(+new Date+31556926E4):new Date(f));h.isNumber(f)&&(f=0===f?"":"; max-age="+
f);h.isDate(f)&&(f="; expires="+f.toGMTString());if(h.isObject(q)||h.isArray(q))q=b.stringify(q);c.cookie=l(v)+"="+l(q)+f+e+a+n;k=!0}g&&g(k);return k};d.getItem=function(d,g){var p=l(d.key||d||"").replace(/[\-\.\+\*]/g,"\\$&");(p=(new RegExp("(?:^|;\\s*)"+p+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")).exec(c.cookie))&&p[1]&&(p=k(p[1]),h.isJSON(p)&&(p=b.parse(p)));g&&g(p);return p};d.removeItem=function(b,c){return d.setItem({key:b.key||b,expires:new Date,domain:b.domain,path:b.path||"/"},c)}}});SpilGames("spilgames.import",{name:"LocalStorage",deps:["Utils","JSON","JSLib"],module:function(b,h,d){var c=this,l=["spilgames.cache.Tracker.visitorId","spilgames.cache.recent.played.games"],k,m,g=function(c,e){e&&b.isFunction(e)&&e(c);return c},p=function(b){var c=!1;if(b&&b.code)switch(parseInt(b.code,10)){case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===b.name&&(c=!0);break;case 22:c=!0}else b&&b.number&&-2147024882===b.number&&(c=!0);return c};try{k=window.localStorage,m=window.sessionStorage}catch(f){d=
function(){throw f;},k=m={setItem:d,getItem:d,removeItem:d}}c.setItem=function(c,e){var a=c.expires||0,d=!1,v={value:c.value,expires:a};if(c.key){b.isNumber(a)&&0<a&&(a=+new Date+1E3*a);b.isDate(a)&&(a=a.getTime());b.isString(a)&&(a="never"===a?+new Date+31556926E4:+new Date(a));v.expires=a;v.storeDate=+new Date;try{(0<a?k:m).setItem(c.key,h.stringify(v))}catch(q){return p(q)&&window.setTimeout(function(){for(var a=l.length,b={},c,e,d,f=0,f=0;f<a;f+=1)d=l[f],(c=k[l[f]])&&(b[d]=c);k.clear();for(e in b)try{k[e]=
b[e]}catch(g){}},0),g(!1,e)}d=!0}return g(d,e)};c.getItem=function(d,e){var a=d.key||d||"",n=m[a]||k[a]||null,l=d.maxAge||Infinity;n&&b.isJSON(n)&&(n=h.parse(n),b.has(n,"value")&&!b.isUndefined(n.expires)&&(0!==n.expires&&n.expires<+new Date?(n=null,c.removeItem(a)):+new Date-n.storeDate>1E3*l?(n=null,c.removeItem(a)):n=n.value));return g(n,e)};c.removeItem=function(b,c){var a=b.key||b||"",d=k[a]||m[a]||null;d&&(k.removeItem(a),m.removeItem(a));return g(!!d,c)};c.getAllItems=function(){return b.combine(b.clone(k),
b.clone(m))}}});SpilGames("spilgames.import",{name:"Cache",deps:["Utils","JSON","Memory","JSLib","FeatureDetector"],module:function(b,h,d,c,l){function k(a,d){var f=b.memoize(function(){return l.localStorage()?"LocalStorage":"Cookie"});b.isEmpty(a)&&(a=f());b.isString(a)?e[a]?d(e[a]):c([a],function(b){e[a]=b;d(e[a])}):d(a)}function m(a,b,e,d){if(a.key)return a.key=f+a.key,a;a=c.error("Cache."+b+": key is not defined",0,0,e);d&&d(a);return null}function g(c,e,d,g){b.isEmpty(c)&&(c=/.*/);b.isString(c)&&(c=new RegExp("^"+
(f+c).replace(/\./g,"\\.").replace(/\*$/,".*")+"$"));b.isRegex(c)&&(b.each(d,function(b,d){c.test(d)&&(e.key=d.replace(f,""),a.removeItem(e))}),g&&g(!0))}function p(a){var b=/\+(\d+)\s+(year|month|week|day|hour|minute|second)s?/.exec(a),c={second:1E3,minute:6E4,hour:36E4,day:864E5,week:6048E5,month:26784E5,year:31536E6};return b?parseInt(b[1],10)*c[b[2]]:"never"===a?31536E7:+new Date(a)}var f=c.ns+".cache.",e={Memory:d},a;return a={setItem:function(c,e){var d=+new Date,f;if(c=m(c,"addItem",!1,e))f=
c.expires||0,b.isNumber(f)&&0<f&&(f=d+1E3*f),b.isString(f)&&(f=d+p(f)),b.isDate(f)&&(f=f.getTime()),c.expires=new Date(f),k(c.module,function(a){a.setItem(c,e)});return a},getItem:function(c,e){b.isString(c)&&(c={key:c});(c=m(c,"getItem",null,e))&&k(c.module,function(a){a.getItem(c,e)});return a},removeItem:function(c,e){b.isString(c)&&(c={key:c});(c=m(c,"removeItem",!1,e))&&k(c.module,function(a){a.removeItem(c,e)});return a},clear:function(c,e){b.isString(c)&&(c={pattern:c});b.isFunction(c)&&(e=
c);b.isEmpty(c)&&(c={pattern:""});k(c.module,function(a){a.clear?a.clear(c,e):a.getAllItems?g(c.pattern,c,a.getAllItems(),e):e&&e(!1)});return a},makeKey:function(){for(var a=b.toArray(arguments),c=-1,e="";a[++c];)b.isObject(a[c])||b.isArray(a[c])?b.isEmpty(a[c])||(e+=h.stringify(a[c])):e+=a[c];return e},set:function(b,c){"prefix"===b&&(f=c);return a}}}});/*
 2014, SpilGames
*/
SpilGames("spilgames.import",{name:"BeLazy",deps:["JSLib","DOMEvent","SWPUtils","DOMSelect"],module:function(){var b,h=window,d=document,c=[],l,k,m=!1,g=function(a,b,c){var e=a.getBoundingClientRect();a=e.top;var d=e.left,f=e.right,e=e.bottom;return a<=c&&d<=b&&-10<=f&&-10<=e&&(a||d||f||e)?!0:!1},p=function(a,b,c){var e=a.getBoundingClientRect(),f=e.top,g=e.left,h=e.right,e=e.bottom,l=(g+h)/2,k=(f+e)/2;if(0>h||0>e||g>b||f>c)return!1;g+=5;f+=5;return a.contains(d.elementFromPoint(l,k))||a.contains(d.elementFromPoint(g,
f))||a.contains(d.elementFromPoint(h,f))||a.contains(d.elementFromPoint(h,e))||a.contains(d.elementFromPoint(g,e))},f=function(){var a,b,e=function(){a=!1},f=function(){h.clearTimeout(b);for(var a=(h.innerWidth||d.documentElement.clientWidth)+10,f=(h.innerHeight||d.documentElement.clientHeight)+10,l=c.length,q,m,A,G=0;G<l;)if(m=c[G],A=m.node,q=m.trulyVisible?p:g,q(A,a,f)){c.splice(G,1);l--;try{m.callback(A)}catch(E){k.error("Error while lazyloading",A,E)}}else G++;h.setTimeout(e)};return{debounce:function(){a=
!0;h.clearTimeout(b);b=h.setTimeout(f,100)},throttle:function(){a||(a=!0,h.clearTimeout(b),b=h.setTimeout(f,50))}}}(),e=function(a,b,e,d){"visible"===a&&(c.push({node:b,callback:e,trulyVisible:d}),f.debounce());return b};return function(a,c,g,q){l=l||c;k=k||g;!1===m&&(l.add(d,"click",f.debounce),l.add(d,"mouseover",f.throttle),l.add(d,"focus",f.throttle),l.add(h,"hashchange",f.throttle),l.add(h,"touchmove",f.throttle),l.add(h,"scroll",f.throttle),l.add(h,"resize",f.debounce),m=!0);return b=b||{until:e,
trigger:function(){f.throttle()},handleImagesIn:function(b){var c=function(a){var b=a.getAttribute("alt");b&&(a.setAttribute("data-alt",b),a.removeAttribute("alt"));a.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");e("visible",a,function(a){var b=a.getAttribute("data-src"),c=a.getAttribute("data-alt");b&&(a.src=b,a.removeAttribute("data-src"));c&&(a.setAttribute("alt",c),a.removeAttribute("data-alt"));g.removeClass(a,"lazyload")},!0)};a("spilgames.dom.ready",
function(){g.each(q.getAll("img.lazyload[data-src]",b),c)})}}}}()});SpilGames({waiton:"spilgames.dom.ready"},["BeLazy"],function(b){b.handleImagesIn(window.document)});SpilGames("spilgames.import",{name:"FeatureDetector",deps:["LightSWFObject"],module:function(){var b,h={};b||(b=function(b){function c(a,b){"undefined"===typeof h[a]&&(h[a]=b());return h[a]}function l(a,b,c){var e=document.createElement("div"),d=document.body;e.innerHTML=['&#173;<style id="sFeatureDetectr">',b,"</style>",a].join("");e.id="FeatureDetectr";d.appendChild(e);a=c(e);v&&e.parentNode.removeChild(e);return a}function k(){var a,b;a=(document.body||document.documentElement).style;if("string"==
typeof a.transition)return!0;b="Moz Webkit Khtml O ms MS".split(" ");for(var c=0;c<b.length;c++)if("string"==typeof a[b[c]+"transition"])return!0;return!1}function m(){var a=document.body||document.documentElement,b=!1,c="Moz Webkit Khtml O ms MS".split(" ");a.style.animationName&&(b=!0);if(!1===b)for(var e=0;e<c.length;e++)if(void 0!==a.style[c[e]+"AnimationName"]){b=!0;break}return b}function g(){var a=b.getFlashPlayerVersion();return 0<a.major+a.minor+a.release}function p(){var a=!1,b;if(navigator.mimeTypes&&
navigator.mimeTypes["application/vnd.unity"]&&navigator.mimeTypes["application/vnd.unity"].enabledPlugin&&navigator.plugins&&navigator.plugins["Unity Player"])a=!0;else if(window.ActiveXObject){try{b=new ActiveXObject("UnityWebPlayer.UnityWebPlayer.1")}catch(c){}b&&(a=!0)}return a}function f(){var a=!1;if("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)a=!0;return a}function e(){return c("canvas",function(){var a=document.createElement("canvas");return!(!a.getContext||
!a.getContext("2d"))})}function a(){return document.documentElement.clientWidth}function n(){return document.documentElement.clientHeight}var v=!0;return{cookies:function(){return c("cookies",function(){var a=!1;document.cookie="FeatureDetectr=1";a=-1!=document.cookie.indexOf("FeatureDetectr=");document.cookie="FeatureDetectr=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";return a})},websockets:function(){return c("websockets",function(){return"WebSocket"in window})},webworkers:function(){return c("webworkers",
function(){return"Worker"in window})},cssContent:function(){return c("cssContent",function(){return l("<div>test</div>",'#FeatureDetectr {font:0/0 a;} #FeatureDetectr div:after{content:":)";font:7px/1 a;}',function(a){return 7<=a.offsetHeight})})},checkedSelector:function(){return c("checkedSelector",function(){return l('<input type="radio" name="rdio" value="1" checked="1"/>',"#FeatureDetectr {font:0/0 a;} #FeatureDetectr input:checked{display:none;}",function(a){return 0===a.offsetHeight})})},placeholder:function(){return c("placeholder",
function(){return void 0!==document.createElement("input").placeholder})},localStorage:function(){return c("localStorage",function(){try{return localStorage.setItem("spilgames","spilgames"),localStorage.removeItem("spilgames"),!0}catch(a){return!1}})},transitions:function(){return c("transitions",k)},animations:function(){return c("animations",m)},canvas:e,webgl:function(){try{var a=document.createElement("canvas");return!!window.WebGLRenderingContext&&(!!a.getContext("experimental-webgl")||!!a.getContext("webgl"))}catch(b){return!1}},
touch:function(){return c("touch",f)},flash:function(){return c("flash",g)},unity:function(){return c("unity",p)},screenWidth:function(){return c("screenWidth",a)},screenHeight:function(){return c("screenHeight",n)},canvasText:function(){return c("canvasText",function(){return!1===e()?!1:"function"==typeof document.createElement("canvas").getContext("2d").fillText})},flexboxLegacy:function(){return c("flexboxLegacy",function(){var a;var b="B"+"boxDirection".slice(1);b:{var b=("boxDirection "+["Webkit",
"Moz","O","ms"].join(b+" ")+b).split(" "),c=document.createElement("spilgames").style;for(a in b){var e=b[a];if(!~(""+e).indexOf("-")&&void 0!==c[e]){a=!0;break b}}a=!1}return a})},applicationCache:function(){return c("applicationCache",function(){return"applicationCache"in window})},toggleCleanup:function(a){v=a},setCache:function(a){h=a||{}}}});return b}()});SpilGames("spilgames.import",{name:"DOMEvent",deps:["Utils","DOMSelect"],module:function(){var b=window,h=document,d,c,l,k=function(g){return g===b||g===h||d.isElement(g)?[g]:d.isNodeList(g)||d.isArray(g)?g:c.getAll(g)},m=function(b,c){var d,e,a,h;b.addEventListener("touchstart",function(a){if(a=a.changedTouches?a.changedTouches[0]:void 0)d=a.pageX,e=a.pageY},!1);b.addEventListener("touchend",function(b){var g=b.changedTouches?b.changedTouches[0]:void 0;g&&(a=g.pageX-d,h=g.pageY-e,75<=Math.abs(a)&&
100>=Math.abs(h)?(b.swipeDirection=0>a?"left":"right",c(b)):75<=Math.abs(h)&&100>=Math.abs(a)&&(b.swipeDirection=0>h?"up":"down",c(b)))},!1)};return function(g,p){d=d||g;c=c||p;return l=l||{add:function(b,c,a){d.each(k(b),function(b){"swipe"===c?m(b,function(b){a(b)}):b.addEventListener(c,a,!1)})},remove:function(b,c,a){d.each(k(b),function(b){b.removeEventListener(c,a,!1)})},preventDefault:function(b){b.preventDefault()},preventBubbling:function(b){b.stopPropagation()},trigger:function(c,e){d.each(k(c),
function(a){var c;if("function"===typeof b.CustomEvent)c=new b.CustomEvent(e,{bubbles:!0,cancelable:!1}),a.dispatchEvent(c);else if(h.createEvent)c=h.createEvent("MouseEvents"),c.initEvent(e,!0,!1),a.dispatchEvent(c);else if(h.createEventObject)a.fireEvent("on"+e);else if("function"===typeof a["on"+e])a["on"+e]()})}}}}()});SpilGames("spilgames.import",{name:"DOMSelect",module:function(b){b.querySelectorAll||(b.querySelectorAll=function(c){var d=b.createElement("style"),h=[];b.documentElement.firstChild.appendChild(d);b._qsa=[];d.styleSheet.cssText=c+"{x-qsa:expression(document._qsa && document._qsa.push(this));}";window.scrollBy(0,0);for(d.parentNode.removeChild(d);b._qsa.length;)c=b._qsa.shift(),c.style.removeAttribute("x-qsa"),h.push(c);b._qsa=null;return h});b.querySelector||(b.querySelector=function(c){c=b.querySelectorAll(c);
return c.length?c[0]:null});var h=function(b,d){var h=new RegExp("(^|,)s*(?!#"+d+")(?![s.[]])(.|$)","gm");return b.replace(/(^|,)\s+/,"$1").replace(h,"$1#"+d+" $2").replace(/\s+$/,"").replace(/\s+/," ")},d={getAll:function(c,d){d=d||b;if(b===d||d.querySelectorAll)return d.querySelectorAll(c);d.id||(d.id=Math.random().toString().slice(2));return b.querySelectorAll(h(c,d.id))},get:function(c,d){d=d||b;if(b===d||d.querySelector)return d.querySelector(c);d.id||(d.id=Math.random().toString().slice(2));
return b.querySelector(h(c,d.id))}};return function(){return d}}(window.document)});SpilGames("spilgames.import",{name:"StickyElement",deps:["SWPUtils","DOMSelect","DOMEvent"],module:function(b,h){var d,c,l,k,m=[],g,p=function(a){return b.getComputedStyle?b.getComputedStyle(a):a.currentStyle},f=function(a){return b.parseInt(a,10)||0},e=function(a,b){var c=p(a),e=a.getBoundingClientRect(),e=e.height||e.bottom-e.top,d;switch(b){case 0:d=f(c.paddingTop)+f(c.paddingBottom);c=f(c.borderTopWidth)+f(c.borderBottomWidth);e-=d+c;break;case 1:c=f(c.marginTop)+f(c.marginBottom),e+=c}return e},
a=function(a){var b=a.element,c;g<=a.minScrollY?(a.state=0,b.style.position="relative",b.style.top="0",b.style.width=""):g>=a.maxScrollY?(a.state=2,b.style.position="relative",b.style.top=a.maxTop+"px",b.style.width=""):g>a.minScrollY&&g<a.maxScrollY&&(c=p(b).width,a.state=1,b.style.position="fixed",b.style.top=a.fixedTop+"px",b.style.width=c)},n=function(){var a=b.innerHeight;c.each(m,function(b){var c=b.element,d=e(c,1),h,k=c.parentElement;h=p(k);k=k.getBoundingClientRect();h=g+k.top+f(h.borderTopWidth)+
f(h.paddingTop);k=e(c.parentElement,0);c=a/2-d/2;d=k-d;b.minScrollY=h-c;b.maxScrollY=h+d-c;b.fixedTop=c;b.maxTop=d});v()},v=function(){c.each(m,function(b){switch(b.state){case 0:g>b.minScrollY&&a(b);break;case 1:(g<=b.minScrollY||g>=b.maxScrollY)&&a(b);break;case 2:g<b.maxScrollY&&a(b);break;default:a(b)}})},q=function(){var a;return function(){b.clearTimeout(a);a=b.setTimeout(n,200)}}(),B=function(){var a,c=function(){a=!1;n()};return function(){g=void 0!==b.pageYOffset?b.pageYOffset:h.body.scrollTop;
a||(a=!0,b.setTimeout(c,200));v()}}(),t=function(a){c.each(l.getAll(a),function(a){m.push({element:a})});n()},w=!1;return function(a,e,f){w||(w=!0,d={enable:t},c=a,l=e,k=f,k.add(b,"resize",q),k.add(b,"scroll",B));return d}}(window,document)});SpilGames("spilgames.import",{name:"EnDecode",module:function(){var b=this.getApi();return{encode:function(h,d){b([h.module],function(b){d&&d(b.encode(h))})},decode:function(h,d){b([h.module],function(b){d&&d(b.decode(h))})}}}});SpilGames("spilgames.import",{name:"LightSWFObject",module:function(b,h,d){var c;c||(c=function(l,k){function m(a){var b=g(a);b&&"OBJECT"==b.nodeName&&(e.ie&&e.win?(b.style.display="none",function(){if(4==b.readyState){var c=g(a);if(c){for(var e in c)"function"==typeof c[e]&&(c[e]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function g(a){var b=null;try{b=p.getElementById(a)}catch(c){}return b}var p=h,f=[],e=function(){var a="undefined"!=
typeof p.getElementById&&"undefined"!=typeof p.getElementsByTagName&&"undefined"!=typeof p.createElement,c=d.userAgent.toLowerCase(),e=d.platform.toLowerCase(),f=e?/win/.test(e):/win/.test(c),e=e?/mac/.test(e):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!+"\v1",h=[0,0,0],k=null;if("undefined"!=typeof d.plugins&&"object"==typeof d.plugins["Shockwave Flash"])!(k=d.plugins["Shockwave Flash"].description)||"undefined"!=typeof d.mimeTypes&&d.mimeTypes["application/x-shockwave-flash"]&&
!d.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(g=!1,k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof b.ActiveXObject)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(k=l.GetVariable("$version"))&&(g=!0,k=k.split(" ")[1].split(","),h=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],
10)])}catch(m){}return{w3:a,pv:h,wk:c,ie:g,win:f,mac:e}}();(function(){e.ie&&e.win&&window.attachEvent("onunload",function(){for(var a=f.length,b=0;b<a;b++)m(f[b]);for(var d in e)e[d]=null;c=e=null})})();return{getFlashPlayerVersion:function(){return{major:e.pv[0],minor:e.pv[1],release:e.pv[2]}},hasFlashPlayerVersion:function(a){var b=e.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=
a[2]?!0:!1},createSWF:function(a,b,c){if(e.w3){var d,h=g(c);if(!(e.wk&&312>e.wk)&&h)if("undefined"==typeof a.id&&(a.id=c),e.ie&&e.win){var k="",l;for(l in a)a[l]!=Object.prototype[l]&&("data"==l.toLowerCase()?b.movie=a[l]:"styleclass"==l.toLowerCase()?k+=' class="'+a[l]+'"':"classid"!=l.toLowerCase()&&(k+=" "+l+'="'+a[l]+'"'));l="";for(var m in b)b[m]!=Object.prototype[m]&&(l+='<param name="'+m+'" value="'+b[m]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+k+">"+
l+"</object>";f[f.length]=a.id;d=g(a.id)}else{m=p.createElement("object");m.setAttribute("type","application/x-shockwave-flash");for(var u in a)a[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?m.setAttribute("class",a[u]):"classid"!=u.toLowerCase()&&m.setAttribute(u,a[u]));for(k in b)b[k]!=Object.prototype[k]&&"movie"!=k.toLowerCase()&&(a=m,l=k,u=b[k],c=p.createElement("param"),c.setAttribute("name",l),c.setAttribute("value",u),a.appendChild(c));h.parentNode.replaceChild(m,h);d=m}return d}},
removeSWF:function(a){e.w3&&m(a)}}});return c}(window,window.document,window.navigator)});SpilGames("spilgames.import",{name:"Base64",module:function(){return{encode:function(b,h){var d;d=b.data;var c,l,k,m,g=0,p=0,f="",f=[];if(d){do c=d.charCodeAt(g++),l=d.charCodeAt(g++),k=d.charCodeAt(g++),m=c<<16|l<<8|k,c=m>>18&63,l=m>>12&63,k=m>>6&63,m&=63,f[p++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m);
while(g<d.length);f=f.join("");d=d.length%3;d=(d?f.slice(0,d-3):f)+"===".slice(d||3)}h&&h(d);return d},decode:function(b,h){var d;d=b.data;var c,l,k,m,g,p=0,f=0;m="";var e=[];if(d){d+="";do c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(p++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(p++)),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(p++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(p++)),
k=c<<18|l<<12|m<<6|g,c=k>>16&255,l=k>>8&255,k&=255,64==m?e[f++]=String.fromCharCode(c):64==g?e[f++]=String.fromCharCode(c,l):e[f++]=String.fromCharCode(c,l,k);while(p<d.length);d=m=e.join("")}h&&h(d);return d}}}});SpilGames("spilgames.import",{name:"JSON",module:function(){function b(b){return 10>b?"0"+b:b}function h(b){l.lastIndex=0;return l.test(b)?'"'+b.replace(l,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(b,a){var c,f,g,l,t=k,w,r=a[b];r&&"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(b));"function"===typeof p&&(r=p.call(a,b,r));switch(typeof r){case "string":return h(r);case "number":return isFinite(r)?
String(r):"null";case "boolean":case "null":return String(r);case "object":if(!r)return"null";k+=m;w=[];if("[object Array]"===Object.prototype.toString.apply(r)){l=r.length;for(c=0;c<l;c+=1)w[c]=d(c,r)||"null";g=0===w.length?"[]":k?"[\n"+k+w.join(",\n"+k)+"\n"+t+"]":"["+w.join(",")+"]";k=t;return g}if(p&&"object"===typeof p)for(l=p.length,c=0;c<l;c+=1)"string"===typeof p[c]&&(f=p[c],(g=d(f,r))&&w.push(h(f)+(k?": ":":")+g));else for(f in r)Object.prototype.hasOwnProperty.call(r,f)&&(g=d(f,r))&&w.push(h(f)+
(k?": ":":")+g);g=0===w.length?"{}":k?"{\n"+k+w.join(",\n"+k)+"\n"+t+"}":"{"+w.join(",")+"}";k=t;return g}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,m,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p,f={};"function"!==typeof f.stringify&&(f.stringify=function(b,a,c){var f;m=k="";if("number"===typeof c)for(f=0;f<c;f+=1)m+=" ";else"string"===typeof c&&(m=c);if((p=a)&&"function"!==typeof a&&("object"!==typeof a||"number"!==typeof a.length))throw Error("JSON.stringify");return d("",{"":b})});
"function"!==typeof f.parse&&(f.parse=function(b,a){function d(b,c){var e,f,g=b[c];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=d(g,e),void 0!==f?g[e]=f:delete g[e]);return a.call(b,c,g)}var f;b=String(b);c.lastIndex=0;c.test(b)&&(b=b.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+b+")"),"function"===typeof a?d({"":f},""):f;throw new SyntaxError("JSON.parse");});return f}});SpilGames("spilgames.import",{name:"Pack",module:function(){var b=function(b,d){for(var c=0,l=0,k={},m="",g="",p="",f="",e=0,a=0,g="",n=a=0,v=0,q=[],B,t,w,r,u,A,G,E=0,F,I=function(a,b,c){var e,d,f,g,h;if(0>a||0>=b)return 0;d=a%8;f=c.length-(a>>3)-1;g=c.length+(-(a+b)>>3);h=f-g;for(a=(c[f]>>d&(1<<(h?8-d:b))-1)+(h&&(e=(a+b)%8)?(c[g++]&(1<<e)-1)<<(h--<<3)-d:0);h;){e=a;a=c[g++];b=(h--<<3)-d;for(++b;--b;)a=1073741824===((a%=2147483648)&1073741824)?2*a:2*(a-1073741824)+2147483648;a=e+a}return a};c<b.length;){m=
b[c];g="";for(c++;c<b.length&&null!==b[c].match(/[\d\*]/);)g+=b[c],c++;""===g&&(g="1");for(p="";c<b.length&&"/"!==b[c];)p+=b[c],c++;"/"===b[c]&&c++;switch(m){case "a":case "A":g="*"===g?d.length-l:parseInt(g,10);f=d.substr(l,g);l+=g;q="a"===m?f.replace(/\0+$/,""):f.replace(/ +$/,"");k[p]=q;break;case "h":case "H":g="*"===g?d.length-l:parseInt(g,10);f=d.substr(l,g);l+=g;if(g>f.length)throw Error("Warning: unpack(): Type "+m+": not enough input, need "+g);q="";for(e=0;e<f.length;e++)g=f.charCodeAt(e).toString(16),
"h"===m&&(g=g[1]+g[0]),q+=g;k[p]=q;break;case "c":case "C":g="*"===g?d.length-l:parseInt(g,10);f=d.substr(l,g);l+=g;for(e=0;e<f.length;e++)q=f.charCodeAt(e),"c"===m&&128<=q&&(q-=256),k[p+(1<g?e+1:"")]=q;break;case "S":case "s":case "v":g="*"===g?(d.length-l)/2:parseInt(g,10);f=d.substr(l,2*g);l+=2*g;for(e=0;e<f.length;e+=2)q=(f.charCodeAt(e+1)&255)<<8+(f.charCodeAt(e)&255),"s"===m&&32768<=q&&(q-=65536),k[p+(1<g?e/2+1:"")]=q;break;case "n":g="*"===g?(d.length-l)/2:parseInt(g,10);f=d.substr(l,2*g);
l+=2*g;for(e=0;e<f.length;e+=2)q=((f.charCodeAt(e)&255)<<8)+(f.charCodeAt(e+1)&255),k[p+(1<g?e/2+1:"")]=q;break;case "i":case "I":case "l":case "L":case "V":g="*"===g?(d.length-l)/4:parseInt(g,10);f=d.substr(l,4*g);l+=4*g;for(e=0;e<f.length;e+=4)q=((f.charCodeAt(e+3)&255)<<24)+((f.charCodeAt(e+2)&255)<<16)+((f.charCodeAt(e+1)&255)<<8)+(f.charCodeAt(e)&255),k[p+(1<g?e/4+1:"")]=q;break;case "N":g="*"===g?(d.length-l)/4:parseInt(g,10);f=d.substr(l,4*g);l+=4*g;for(e=0;e<f.length;e+=4)q=((f.charCodeAt(e)&
255)<<24)+((f.charCodeAt(e+1)&255)<<16)+((f.charCodeAt(e+2)&255)<<8)+(f.charCodeAt(e+3)&255),k[p+(1<g?e/4+1:"")]=q;break;case "f":case "d":n=8;v=4;"d"===m&&(n=11,v=8);g="*"===g?(d.length-l)/v:parseInt(g,10);f=d.substr(l,g*v);l+=g*v;for(e=0;e<f.length;e+=v){d=f.substr(e,v);q=[];for(a=d.length-1;0<=a;--a)q.push(d.charCodeAt(a));a="f"===m?23:52;B=Math.pow(2,n-1)-1;t=I(a+n,1,q);w=I(a,n,q);r=0;u=2;A=q.length+(-a>>3)-1;E=0;do for(G=q[++A],E=a%8||8,F=1<<E;F>>=1;)G&F&&(r+=1/u),u*=2;while(a-=E);q=w===(B<<
1)+1?r?NaN:t?-Infinity:Infinity:(1+-2*t)*(w||r)?w?Math.pow(2,w-B)*(1+r):Math.pow(2,-B+1)*r:0;k[p+(1<g?e/4+1:"")]=q}break;case "x":case "X":case "@":g="*"===g?d.length-l:parseInt(g,10);0<g&&(l="X"===m?l-g:"x"===m?l+g:g);break;default:throw Error("Warning:  unpack() Type "+m+": unknown format code");}}return k};return{unpack:function(h,d){var c=b(h.format,h.data);d&&d(c);return c}}}});SpilGames("spilgames.import",{name:"Base64Url",deps:["Base64"],module:function(b){return{encode:function(h,d){var c;c=b.encode(h).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");d&&d(c);return c},decode:function(h,d){var c;h.data=h.data.replace(/-/g,"+").replace(/_/g,"/");for(c=0;c<h.data.length%4;++c)h.data+="=";c=b.decode(h);d&&d(c);return c}}}});SpilGames("spilgames.import",{fullName:"Social",deps:["DOMSelect","Import","Utils"],module:function(b,h,d){var c=function(c,h,m,g,p){var f=window.document.createElement("div");h=b.get(h);f.className=m;d.each(g,function(b,a){f.setAttribute("data-"+a,b)});p&&(f.innerHTML=p);h.appendChild(f);c&&d.isFunction(c)&&c()};return{createFacebookButton:function(d,k,m){m=m||{};var g;if(!(g=m.href)){g=b.get("link[rel=canonical]");var p=window.location.href;g&&(p=g.href);g=p}c(k,d,"fb-like",{href:g,send:m.send||
!1,layout:m.layout||"button_count",width:m.width||90,height:m.height||20,"show-faces":m.showFaces||!1,font:m.font||"arial"});h.script("https://connect.facebook.net/"+(m.locale||"en_US")+"/sdk.js#xfbml=1&version=v2.5")}}}});SpilGames("spilgames.import",{fullName:"System",deps:["SWPUtils","SWPEvent","Utils","JSLib"],module:function(b,h,d,c){var l={"-1":"No event action config","-2":"No widget event config","-3":"Invalid system event"},k=[],m=c.get("spilgames.SWP.eventConfig"),g=c.get("spilgames.SWP.systemEvents"),p=function(c,a,f){var g;if(m&&d.has(m,c))if(d.has(m[c],a))for(c=m[c][a],g=0,a=c.length;g<a;g+=1)f(c[g]);else b.warn(l["-1"],{widgetName:c,eventAction:a});else b.warn(l["-2"],{widgetName:c})},f=function(b,a){var c,
d,f;f=0;for(c=k.length;f<c;f+=1)(d=k[f])&&d.eventName===b&&a({name:d.eventName.replace("system.",""),fullName:d.eventName,body:d.data,data:d.data,emitter:d.widgetName,callee:"system"})};return{init:function(b,a){var c=function(b){try{a(b)}catch(c){window.setTimeout(function(){throw c;},0)}};p(b,"listen",function(a){h.listen(a,function(){var a;a=this.event;a={name:a.cleanType.replace("system.",""),fullName:a.cleanType,body:a.data||{},data:a.data||{},callee:a.callee};c(a)});f(a,c)})},emit:function(c,
a,f){a="system."+a;-1===d.indexOf(g,a)?b.warn(l["-3"],{widgetName:c,eventName:a}):m[c]&&m[c].emit&&-1<m[c].emit.indexOf(a)&&(h.emit(a,f),k.push({widgetName:c,eventName:a,data:f}))}}}});SpilGames("spilgames.import",{fullName:"gi.SWP",deps:["SWP"],module:function(b){return b}});SpilGames("spilgames.import",{fullName:"SWP",deps:["Widget","System","SWPUtils","JSLib"],module:function(){var b;b||(b=function(b,d,c,l){var k="widget.",m,g;return{init:function(b){m=b;k+=b},Widget:{subscribe:function(c){b.subscribe(k,c)},emit:function(c,d){b.emit(k,c,d)},refresh:function(c,d){g=void 0;"string"===typeof c?b.refresh(c,{},{}):(c=c||{},d=d||{},b.refresh(m,c,d))},getSnippet:function(c,d){b.getSnippet(m,c,d)},init:function(c){b.subscribe(k,c)}},System:{init:function(b){d.init(k,b)},emit:function(b,
c){d.emit(k,b,c)}},Utils:c,set:function(b,c){l.set(b,c,l.set.PROTECTED)},get:function(b){return l.get(b)},getProperty:function(b){m||l.error("SWP.getProperty() error",0,"widgetName is not known yet. Please SWP.init() your widget first");if(void 0===g)try{g=JSON.parse(window.document.getElementById("wdg_"+m).getAttribute("data-props"))}catch(c){g=null}return b&&"*"!==b?g&&b&&g.hasOwnProperty(b)?g[b]:null:g}}});return b}()});SpilGames("spilgames.module.import.loadmodule",{fullName:"SWPEvent",dependencies:["Events"],module:function(){var b;b||(b=function(b){return{listen:function(d,c){b.subscribe(d,c)},emit:function(d,c){b.publish(d,c)},unsubscribe:function(d,c){b.unsubscribe(d,c)}}});return b}()});SpilGames("spilgames.import",{fullName:"Widget",deps:["SWPEvent","SWPUtils","Net"],module:function(b,h,d){var c=function(){},l=function(c,d){b.listen(c+".*",function(){var b;b=this.event;b={name:b.cleanType.replace(c+".",""),fullName:b.cleanType,data:b.data.body,emitter:b.data.info.emitter,callee:b.callee};d(b)})};return{refresh:function(b,d,g){var l=g.cleanup||c,f=g.callback||c;this.getSnippet(b,d,function(c){if(!c.isError){var a="wdg_"+b,d=document.getElementById(a),g=document.createElement("div");
d?(l(),g.innerHTML=c.trim(),d.setAttribute("data-props",g.firstChild.getAttribute("data-props")),d.setAttribute("class",g.firstChild.getAttribute("class")),d.innerHTML=g.firstChild.innerHTML,f(d.innerHTML)):h.error('Unable to find element with id: "'+a+'"')}})},getSnippet:function(b,c,g){c.output_format="snippet";var h=Object.keys(c).map(function(b){var d=c[b];return[encodeURIComponent(b),encodeURIComponent(d)].join("=")}).join("&");d.set("transport",["xhr"]);d.send({url:["/wdg/",b,"/?",h].join("")},
g)},emit:function(c,d,g){g={body:g,info:{emitter:c}};b.emit(c+"."+d,g||null)},init:l,subscribe:l}}});SpilGames("spilgames.import",{fullName:"SWPUtils",deps:["Utils","JSLib"],module:function(b,h){function d(c){/\s/.test(c)&&h.error("a class can not contain white spaces");return new RegExp("(^|\\s+)"+b.RegExEscape(c)+"(\\s+|$)")}function c(b,c){return d(c).test(b.className)}function l(b,c){Array.isArray(c)?c.forEach(function(c){l(b,c)}):b&&b.className&&c&&(b.className=b.className.replace(d(c)," ").trim())}function k(b,d){Array.isArray(d)?d.forEach(function(c){k(b,c)}):b&&d&&!c(b,d)&&(b.className+=
" "+d)}function m(d,h){var f,e;if(Array.isArray(d)||b.isNodeList(d))for(f=0,e=d.length;f<e;f+=1)m(d[f],h);else Array.isArray(h)?h.forEach(function(a){m(d,a)}):c(d,h)?l(d,h):k(d,h)}return b.combine(b,{UCFirst:function(b){return b.charAt(0).toUpperCase()+b.slice(1)},LCFirst:function(b){return b.charAt(0).toLowerCase()+b.slice(1)},consoleEnabled:function(){return window.console?!0:!1},debug:function(){this.consoleEnabled()&&console.log.apply&&console.log.apply(console,arguments)},error:function(){this.consoleEnabled()&&
console.error.apply&&console.error.apply(console,arguments)},warn:function(){this.consoleEnabled()&&console.warn.apply&&console.warn.apply(console,arguments)},getObjectKeys:function(b){var c=[],d;for(d in b)b.hasOwnProperty(d)&&c.push(d);return c},sprintf:function(b,c){var d=arguments,e=1;return b.replace(/%((%)|s)/g,function(a){return a[2]||d[e++]})},parseURL:function(b){var c=document.createElement("a");c.href=b;return{protocol:c.protocol,hostname:c.hostname,port:c.port,pathname:c.pathname,search:c.search,
hash:c.hash,host:c.host}},hasClass:c,removeClass:l,addClass:k,toggleClass:m})}});SpilGames("spilgames.import",{name:"SPAPI",deps:"Utils Net Portal Cache Game JSLib FeatureDetector JSON".split(" "),module:function(b,h,d,c,l,k,m,g){function p(a,b){delete a[b];return a}function f(a){return 0===a?m.localStorage()?"LocalStorage":"Memory":1===a?l:null}function e(a,d,e){b.isDefined(a.cache)&&!b.isBoolean(a.cache)?d(a.cache):"logged-out"===e?d("never"):c.getItem("SPAPI.auth.ttl",function(a){null!==a?d(a):d("+1 month")})}function a(a,d){function e(){k.debug.info("clear all cache",a);c.clear({pattern:"SPAPI.calls.*",
module:f(0)}).clear({pattern:"SPAPI.calls.*",module:f(1)}).removeItem("SPAPI.calls."+u[0])}var g=a.split(".");"account.logout"===a&&"pre"===d&&(e(),c.removeItem({key:"SPAPI.auth.ttl",module:f(0)}));G[g[0]]&&b.contains(G[g[0]],g[1])&&"post"===d&&e();"clearAll"===a&&e();"clearUser"===a&&c.clear({pattern:"SPAPI.calls."+d,module:f(0)});"clearGame"===a&&c.clear({pattern:"SPAPI.calls."+d,module:f(1)})}function n(a,b){b(k.error.call(a,a.error,a.number||0,a.detail||String(a)||"",0,b))}function v(a){return{token:a,
state:"string"===typeof a&&"Uw"===a.substr(0,2)&&62<=a.length&&"B"===a.substr(23,1)?"logged-in":"logged-out"}}function q(a,d,g,h){var k=d.split(".");!g.cache&&0!==g.cache||A[k[0]]&&(b.contains(A[k[0]],k[1])||"all"===A[k[0]])||(p(a,"auth"),p(a,"appAuth"),e(g,function(b){c.setItem({expires:b,key:c.makeKey("SPAPI.calls.",d,p(g,"cache")),module:f(h),value:a})}))}function B(d,e,g,h,l){b.has(d,"error")?("tokenExpired"===d.detail?a("clearAll"):1>E&&(E+=1),n(d,l)):(a(e,"post"),b.has(d,"appAuth")&&b.has(d,
"level")&&b.has(d,"username")&&(c.setItem({key:"SPAPI.calls."+u[1],module:f(1),expires:300,value:{appAuth:d.appAuth,username:d.username,level:d.level}}),k("api.event.appauth.changed",v(d.appAuth.token))),b.has(d,"auth")&&(a("clearGame","*"),c.setItem({key:"SPAPI.calls."+u[0],module:f(0),expires:"never",value:{auth:d.auth}}),k("api.event.auth.changed",v(d.auth.token))),q(b.clone(d),e,g,h),l(d))}function t(a,b,d,e){if(b.cache){a===u[1]&&(d=1);if(a===u[0]||a===u[1])b={};p(b,"cache");c.getItem({key:c.makeKey("SPAPI.calls.",
a,b),module:f(d)},e)}else e(null)}function w(a,c,e,f){a!==u[0]||b.has(c,"context")||(c.context={siteid:d.get("siteid"),channelid:d.get("channelid")});a===u[1]&&(e=0,b.has(c,"applicationId")||(c.applicationId=l.get("applicationid")));p(c,"cache");a===u[0]||b.has(c,"auth")||b.has(c,"context")?f(c):r(u[e],{cache:!0},e,function(a){a.isError?f(a):(c.auth=a.appAuth||a.auth,f(c))})}function r(d,e,f,l){var m;b.isEmpty(d)?n({error:"Call is empty"},l):(e.cache&&(m=c.makeKey("SPAPI.calls.",d,e)),t(d,b.clone(e),
f,function(c){c?(k.debug.info("from cache",d),l(c)):m&&F[m]&&F[m].length?F[m].push({request:d,requestData:e,requestTokenLevel:f,callback:l}):w(d,b.clone(e),f,function(b){b.isError?l(b):(a(d,"pre"),m&&(F[m]=[],F[m].push({request:d,requestData:e,requestTokenLevel:f,callback:l})),h.send({url:k.get(k.ns+".module.spapi.backend")+d.replace(".","/")+"/",type:"POST",data:g.stringify(b),dataType:"json",overrideMimeType:"text/text",extra:{callback:"callback",data:"body"}},function(a){var b;if(m)for(;F[m].length;)b=
F[m].pop(),B(a,b.request,b.requestData,b.requestTokenLevel,b.callback);else B(a,d,e,f,l)}))})}))}var u={0:"account.getToken",1:"account.getApplicationToken"},A={account:"all"},G={account:"login getToken register deregister registerByProvider loginByProvider".split(" ")},E=0,F={};h.set("transport",["cors","jsonp"]);return{STATE_LOGGEDIN:"logged-in",STATE_LOGGEDOUT:"logged-out",send:function(a,c){if(this.event){var d=/^(game\.api|api)\.(.+)/.exec(this.event.cleanType);a={data:a,call:d?d[2]:"",tokenLevel:d&&
"api"===d[1]?0:1}}/^(event|portal)/.test(a.call)&&c?c():r(a.call,a.data||{},a.tokenLevel||0,c||b.emptyFn)},clear:function(c,d){d=b.isFunction(c)?c:d;b.isString(c)?/$game/.test(c)?a("clearGame",c):a("clearUser",c):a("clearAll",c);d&&d({})},setNewToken:function(a,c){B(a,u[0],{},0,c||b.emptyFn)},getStateInfo:v,getParsedToken:function(a,c){function d(e){var f;b.isObject(a)&&b.has(a,"token")&&(f=a.token);b.isString(a)||b.isString(f)?e(f||a):r("account.getToken",{cache:!0},0,function(a){a.isError?n(a,c):
e(a.auth.token)})}b.isFunction(a)&&(c=a);k(["Base64Url","Pack"],function(a,b){d(function(d){var e=d.substring(0,4),f,g="a1magic_byte/Cversion/Ctype/Creserved/Ckeyspace/Ckey/Ngid_high/Ngid_low/nsite/Cchannel/Cauthorization_level/Ntimestamp/NappId_high";d=a.decode({data:d});switch(e){case "UwAA":case "UwAC":f=d.substr(0,d.length-20);break;case "UwAB":f=d.substr(0,d.length-40),g+="/NappId_low"}f?b.unpack({format:g+"/a*profilar_username",data:f},c):n({error:"tokenBad",number:302},c)})})}}}});SpilGames("spilgames.import",{name:"Tooltip",deps:["DOMSelect","DOMEvent","SWPUtils"],module:function(b,h,d){function c(c,a){return p?(f=c&&c.currentTarget?c.currentTarget:a,b.get(".tooltip",f)):!1}function l(b,a){var c=0,d=0,f;f=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if(a&&a.pageX||a&&a.pageY)c=a.pageX,d=a.pageY-f;else if(window.event.clientX||window.event.clientY)c=window.event.clientX,d=window.event.clientY;b.style.left=
c+2+"px";b.style.top=d+2+"px"}function k(b){var a;if(a=b&&b.currentTarget?c(b,null):c(null,this))d.addClass(a,"tooltip-visible"),l(a,b)}function m(b){var a;(a=b&&b.currentTarget?c(b,null):c(null,this))&&l(a,b)}function g(b){(b=b&&b.currentTarget?c(b,null):c(null,this))&&d.removeClass(b,"tooltip-visible")}var p,f;return{create:function(c){this.remove(c);if(p=b.get(c)&&b.get(c).nodeName?b.get(c).nodeName:null)if(window.addEventListener)h.add(c,"mouseover",k),h.add(c,"mousemove",m),h.add(c,"mouseout",
g);else{c=b.getAll(c);for(var a=0;a<c.length;a++)c[a].onmouseover=k,c[a].onmousemove=m,c[a].onmouseout=g}},remove:function(c){if(window.addEventListener)h.remove(c,"mouseover",k),h.remove(c,"mousemove",m),h.remove(c,"mouseout",g);else{c=b.getAll(c);for(var a=0;a<c.length;a++)c[a].onmouseover=null,c[a].onmousemove=null,c[a].onmouseout=null}}}}});SpilGames("spilgames.import",{fullName:"FormValidation",deps:["JSLib","DOMSelect","DOMEvent"],module:function(b,h,d){var c=[],l=function(){},k=function(b){var c=!1;if(-1==b.day.value||-1==b.month.value||-1==b.year.value)c=!0;else switch(b.month.value){case "4":case "5":case "9":case "11":30<b.day.value&&(c=!0);break;case "2":var a=1==(new Date(b.year.value,1,29)).getMonth();if(!a&&28<b.day.value||a&&29<b.day.value)c=!0}c?l({error:{type:"dob-wrong"},field:"dob"}):l({error:!1,field:"dob",correct:!0})},
m=function(b){var c,a;"-1"!==b.day.value&&"-1"!==b.month.value&&"-1"!==b.year.value&&(c=new Date,c=+new Date(c.getFullYear()-13,c.getMonth(),c.getDate()),a=+new Date(+b.year.value,+b.month.value-1,+b.day.value),0>c-a&&l({error:{type:"dob-coppa-underage"},field:"dob",userData:{day:+b.day.value,month:+b.month.value-1,year:+b.year.value}}));return 0<c-a},g=function(c){3>c.value.length?l({error:{type:"username-short"},field:"username"}):(l({error:!1,field:"username",loading:!0}),b("api.account.checkUsername",
{username:c.value},function(b){b.error?l({error:{type:"username-profane"},field:"username"}):b.exists?l({error:{type:"username-taken"},field:"username",extraData:{suggestionList:b.suggestionList}}):l({error:!1,field:"username",correct:!0})}))},p=function(c){c.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/)?(l({error:!1,field:"email",loading:!0}),b("api.account.checkEmail",{email:c.value},
function(b){b.exists&&1==b.exists?l({error:{type:"email-taken"},field:"email",extraData:{suggestionList:b.suggestionList}}):l({error:!1,field:"email",correct:!0,extraData:{suggestionList:b.suggestionList}})})):l({error:{type:"email-format"},field:"email"})};return{attach:function(b,e){l=e;for(var a=0;a<b.length;a++)switch(c.push(b[a]),b[a].type){case "dob":var h=b[a].elem,v=b[a];d.add([h.year],"change",function(){k(h);!0===v.coppaEnabled&&m(h)});d.add([h.day,h.month],"change",function(){"-1"!==h.day.value&&
"-1"!==h.month.value&&"-1"!==h.year.value&&(k(h),!0===v.coppaEnabled&&m(h))});break;case "username":var q=b[a].elem;d.add("#"+q.id,"change",function(){g(q)});break;case "email":var B=b[a].elem;d.add("#"+B.id,"change",function(){p(B)});break;case "password":var t=b[a].elem;d.add("#"+t.id,"change",function(){6>t.value.length?l({error:{type:"password-short"},field:"password"}):l({error:!1,field:"password",correct:!0})});break;case "gender":var w=b[a].inputs,r=function(){for(var a=!1,b=0;b<w.length;b++)w[b].checked&&
(a=!0);a?l({error:!1,field:"gender",correct:!0}):l({error:{type:"gender-notspecified"},field:"gender"})};d.add(w,"click",r);d.add(w,"change",r);break;case "agree-with-terms":var u=b[a].elem,r=function(){u.checked?l({error:!1,field:"agree-with-terms",correct:!0}):l({error:{type:"agree-with-terms-notconfirmed"},field:"agree-with-terms"})};d.add(u,"click",r);d.add(u,"change",r)}},validateAll:function(){for(var b=0;b<c.length;b++){var e,a;if("dob"===c[b].type||"coppa"===c[b].type)e=c[b].elem.year,a=-1==
c[b].elem.year.value||-1==c[b].elem.month.value||-1==c[b].elem.day.value?!0:!1;else if("agree-with-terms"===c[b].type)e=c[b].elem,a=!1===c[b].elem.checked?!0:!1;else if("gender"===c[b].type){var g=c[b].inputs;a=!0;e=g[0];for(var h=0;h<g.length;h++)if(g[h].checked){a=!1;break}}else e=c[b].elem,a=""==c[b].elem.value||void 0==c[b].elem.value?!0:!1;a&&d.trigger(e,"change")}}}}});SpilGames("spilgames.import",{name:"Game",deps:["Memory","Utils","JSLib"],module:function(b,h,d){var c=d.ns+".module.game.";d.get("environment");return h.combine(b,{get:function(b){return d.get(c+b)},set:function(b,h){"applicationid"===b&&(d.debug.info("clear game cache","applicationid changed"),d("clear.api","game.*"));d.set(c+b,h);return this}})}});SpilGames("spilgames.import",{name:"StopWatch",module:function(){var b={},h=function(){return Date.now?Date.now:function(){return(new Date).getTime()}}();return{start:function(d){b[d]||(b[d]={start:h(),end:null,elapsed:null})},stop:function(d){if((d=b[d])&&!d.end)return d.end=h(),d.elapsed=d.end-d.start,d.elapsed},elapsed:function(d){d=b[d];var c;if(d)return c=d.end||h(),d.elapsed=c-d.start,d.elapsed},now:h,reset:function(d){d&&b[d]&&delete b[d]}}}});SpilGames("spilgames.import",{name:"Portal",module:function(){var b=this,h=b.getApi();b.get=function(d){return h.get(b.ns+".module.portal."+d)};b.set=function(d,c){h.set(b.ns+".module.portal."+d,c);return b}}});SpilGames(["JSLib","EventTracker"],function(b,h){b.subscribe("advertising.track.*",function(b){b=this.event.type.replace("advertising.track.","").split(".");h.trackExpress({eventCategory:b[0],eventAction:b[1],properties:this.event.data||{}})})});SpilGames(["JSLib","SWPUtils"],function(b,h){SpilGames({waiton:"advertising.prepare.takeover"},function(d){h.addClass(document.body,"takeover");var c=document.querySelector("#wdg_site_takeover");null!==c&&(c.style.display="none");c=document.querySelector(".brand-banner");null!==c&&(c.style.display="none");b("advertising.track.displayAds.takeover",d)})});
